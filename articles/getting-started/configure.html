<!DOCTYPE html>
<!--
  Marlin Firmware Documentation
  Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.


  Generated by Jekyll v3.0.5
  Website version: 0.0.4
--><html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- head -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v1.4.0 -->
<title>How to configure - Marlin 3D Printer Firmware</title>
<meta property="og:title" content="How to configure">
<meta name="description" content="This howto will guide the user on how to configure Marlin for their needs">
<meta property="og:description" content="This howto will guide the user on how to configure Marlin for their needs">
<link rel="canonical" href="http://marlinfw.org/articles/getting-started/configure.html">
<meta property="og:url" content=" http://marlinfw.org/articles/getting-started/configure.html">
<meta property="og:site_name" content="Marlin 3D Printer Firmware">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-05-01T19:45:51+01:00">
<link rel="next" href="http://marlinfw.org/articles/getting-started/" title="Getting Started Category">
<link rel="prev" href="http://marlinfw.org/articles/gcode/overview.html" title="Supported G-Code">
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "How to configure",
    "datePublished": "2016-05-01T19:45:51+01:00",
    "description": "This howto will guide the user on how to configure Marlin for their needs",
    "logo": " http://marlinfw.org/assets/images/logo/marlin/small.png",
    "url": " http://marlinfw.org/articles/getting-started/configure.html"
  }
</script>
<!-- End Jekyll SEO tag -->

    <link rel="icon" href="/assets/favicon.ico">
    <link rel="stylesheet" href="/assets/stylesheets/bootstrap.min.css">
    <script type="text/javascript" src="/assets/javascript/head.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript"><!--
        /**
         * As Github pages do not support https for custom domains
         * this is the current best workaround for #18.
         */
        var domains  = ['www.marlinfw.org', 'marlinfw.org', 'localhost', '127.0.0.1' ];
        var pathname = location.pathname.replace(/^\/MarlinDocumentation/, '')
        if (domains.indexOf(window.location.hostname) == -1)
            window.top.location.href = 'http://www.marlinfw.org' + pathname;

        /**
         * Improves page loading speed by loading javascript in parallel
         * with the main page.
         */
        head.load(
            "/assets/stylesheets/readable.min.css",
            "/assets/stylesheets/font-awesome.min.css",
            "/assets/stylesheets/syntax.css",
            "/assets/stylesheets/custom.css",

            "/assets/javascript/jquery-2.2.1.min.js",
            "/assets/javascript/jquery-ui.min.js",
            "/assets/javascript/jquery.tocify.min.js",
            "/assets/javascript/bootstrap.min.js",
            "/assets/javascript/holder.min.js",
            "/assets/javascript/custom.js"
        );
    --></script>
    <!-- /head -->

  </head>
  <body role="document">
        <!-- navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a href="/" class="navbar-brand">
            <img src="/assets/images/logo/marlin/text.png" alt="Marlin" height="40">
          </a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="getting-started">Getting Started <span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="getting-started">
                <li><a href="/articles/getting-started/overview.html">Introduction</a></li>
                <li class="divider">
                </li>
<li><a href="#"><del>How to get</del></a></li>
                <li><a href="/articles/getting-started/configure.html">How to configure</a></li>
                <li><a href="/articles/getting-started/install.html">How to flash your board</a></li>
                <li class="divider">
                </li>
<li><a href="/articles/development/reporting-bugs.html">Reporting bugs</a></li>
              </ul>
            </li>

            <li>
              <a href="#"><del>Download</del></a>
            </li>

            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="documentation">Documentation <span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="documentation">
                <li><a href="/articles/development/changelog.html">Changelog</a></li>
                <li class="divider">
                </li>
<li><a href="#"><del>Current stable release</del></a></li>
                <li><a href="#"><del>Current development release</del></a></li>
                <li class="divider">
                </li>
<li><a href="/meta/needs-review.html">Documentation needing review</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="development">Development <span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="development">
                <li><a href="/articles/development/contributing.html">Contributing</a></li>
                <li><a href="/articles/development/coding-standards.html">Coding standards</a></li>
                <li class="divider">
                </li>
<li><a href="https://github.com/MarlinFirmware/Marlin/issues">Bugtracker</a></li>
                <li><a href="/articles/development/reporting-bugs.html">Reporting bugs</a></li>
                <li class="divider">
                </li>
<li><a href="https://github.com/MarlinFirmware/Marlin/">Source code</a></li>
                <li><a href="https://github.com/MarlinFirmware/MarlinDev/">Development source code</a></li>
              </ul>
            </li>
          </ul>

          
          <ul class="nav navbar-nav navbar-right visible-lg-block">
            <li><a href="https://github.com/MarlinFirmware/MarlinDocumentation/edit/master/_articles/getting-started/configure.md" data-proofer-ignore>
              <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
              <span class="">Improve this page</span></a></li>
          </ul>
          
        </div>
      </div>
    </nav>
    <!-- /navbar -->

    
    <script language="javascript">
      toc_selectors = 'h1,h2,h3,h4';
    </script>

    <!-- content -->
    <div class="container-fluid" role="main">
      <div class="row">
        <div class="col-md-3 visible-lg-block visible-md-block custom-fixed-sidebar">
          <div id="toc"></div>
        </div>
        <div class="col-md-9 col-md-offset-3">
          <div class="row">
            <div class="col-md-6">
              <h1>How to configure</h1>
            </div>
            <div class="col-md-6">
              <p class="text-right visible-lg-block hidden-print small">
                
                
                  
                    <a href="https://github.com/Sarf2k4" data-toggle="tooltip" data-placement="bottom" title="Visit Sarf2k4's profile on Github">
                    @Sarf2k4</a>
                  
                    <a href="https://github.com/paulusjacobus" data-toggle="tooltip" data-placement="bottom" title="Visit paulusjacobus's profile on Github">
                    @paulusjacobus</a>
                  
                    <a href="https://github.com/jbrazio" data-toggle="tooltip" data-placement="bottom" title="Visit jbrazio's profile on Github">
                    @jbrazio</a>
                  
                
              </p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 visible-lg-block hidden-print">
              
                
          <!-- breadcrumbs -->
          <ol class="breadcrumb">
            <li><a href="/"><i class="glyphicon glyphicon-home"></i></a></li>
            <li><a href="/articles/">Articles</a></li>
<li><a href="/articles/getting-started/">Getting started</a></li>
            <li class="active">How to configure</li>
          </ol>
          <!-- /breadcrumbs -->

              
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <h1 id="introduction">Introduction</h1>

<p>Marlin is a huge C++ program, but when it comes to configuring a build of Marlin there are only two files you need to worry about. To configure Marlin for a specific machine, edit or replace <code class="highlighter-rouge">Configuration.h</code> and <code class="highlighter-rouge">Configuration_adv.h</code> prior to building the binary .hex image or flashing the board. If you have these files from an older version of Marlin, you can usually just drop them in place to build the new version. (Marlin will give warnings about any deprecated options.)</p>

<p>Marlin uses “directives” for most of its configuration options. Directives aren’t pretty, but they allow Marlin to leave out blocks of code that aren’t needed, producing the smallest, fastest code possible for your configuration. Settings are enabled, disabled, and given values using C preprocessor syntax like so:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define THIS_IS_ENABLED // a comment about this switch
</span><span class="c1">//#define THIS_IS_DISABLED // a comment about this disabled switch
</span><span class="cp">#define OPTION_VALUE 22 // a comment about this parameter</span></code></pre></figure>

<h1 id="sources-of-documentation">Sources of Documentation</h1>

<p>The documentation begun below is very incomplete. We should really give each option a wiki page and organize by theme. This takes time and effort, but we do consider documentation an important part of a release. So any help in improving this documentation is welcome. Please join in the <a href="https://github.com/MarlinFirmware/Marlin/issues/3088">discussion at Github</a>.</p>

<p>While there are some good articles and YouTube videos on the subject of Marlin configuration and customization, we realize they are no substitute for comprehensive and robust documentation. So while we get it together, please keep in mind that <strong>the configuration files themselves will always contain the most up-to-date documentation about configuration options</strong>. Marlin developers have done a laudable job in these files of explaining (at least in a fuzzy way) what each setting is about, that the potential pitfalls are, and so on. We’ve also tried to make sure that if you forget something obvious, <code class="highlighter-rouge">SanityCheck.h</code> will catch it.</p>

<h1 id="getting-started">Getting Started</h1>

<p>If you’ve never calibrated a RepRap machine before, here are some links to resources to help get you started:</p>

<ul>
  <li><a href="http://reprap.org/wiki/Calibration">Calibration</a></li>
  <li><a href="http://youtu.be/wAL9d7FgInk">Calibrating XY&amp;Z Step/MM</a></li>
  <li><a href="http://calculator.josefprusa.cz">Miscellaneous calculators</a></li>
  <li><a href="http://reprap.org/wiki/Triffid_Hunter%27s_Calibration_Guide">Triffid Hunter’s Calibration Guide</a></li>
  <li><a href="http://www.thingiverse.com/thing:5573">The Essential Calibration Set</a></li>
  <li><a href="https://sites.google.com/site/repraplogphase/calibration-of-your-reprap">Calibration of your RepRap</a></li>
  <li><a href="http://www.thingiverse.com/thing:298812">XY 20 mm Calibration Box</a></li>
  <li><a href="http://reprap.org/wiki/G-code">G-Code reference</a></li>
</ul>

<p>The most important values to obtain are:</p>

<ul>
  <li>Type of printer (Cartesian, Delta, SCARA, etc.)</li>
  <li>Specific electronics (RAMPS, RUMBA, Teensy, etc.)</li>
  <li>Number of extruders</li>
  <li>Steps-per-mm for each axis</li>
  <li>Dialed-in steps-per-mm for each extruder</li>
  <li>Types of thermistors</li>
  <li>Type of LCD controller and other components</li>
</ul>

<h1 id="configuration">Configuration</h1>

<h2 id="board">Board</h2>

<h3 id="setting-author">Setting Author</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define STRING_CONFIG_H_AUTHOR "(none, default config)"</span></code></pre></figure>

<p>This is basically just to show who made the changes to the current firmware settings, this also can be a reference if you’re having several config types or Marlin versions. This will be displayed when you connect to the board like Pronterface.</p>

<hr>

<h3 id="board-type">Board Type</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define MOTHERBOARD BOARD_RAMPS_14_EFB</span></code></pre></figure>

<p>This defines what board that you used for your 3D printer. This is to tell Marlin to use these specific pins and restrictions for these particular board. Below is the list of the board that can be used with Marlin, taken from boards.h.</p>

<p>Change the <code class="highlighter-rouge">BOARD_RAMPS_14_EFB</code> into one of the listed constant below that matches your current board.
The list below are often used by 3D printer owner, if not listed, kindly check the “boards.h” file</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">BOARD_RAMPS_14_EFB</span>      <span class="c1">// RAMPS 1.4 (Power outputs: Extruder, Fan, Bed)
</span><span class="n">BOARD_RAMPS_14_EEB</span>      <span class="c1">// RAMPS 1.4 (Power outputs: Extruder0, Extruder1, Bed)
</span><span class="n">BOARD_RAMPS_14_EFF</span>      <span class="c1">// RAMPS 1.4 (Power outputs: Extruder, Fan, Fan)
</span><span class="n">BOARD_RAMPS_14_EEF</span>      <span class="c1">// RAMPS 1.4 (Power outputs: Extruder0, Extruder1, Fan)`
</span><span class="n">BOARD_RAMPS_14_SF</span>       <span class="c1">// RAMPS 1.4 (Power outputs: Spindle, Controller Fan)`
</span><span class="n">BOARD_SANGUINOLOLU_12</span>   <span class="c1">// Sanguinololu 1.2 and above
</span><span class="n">BOARD_MELZI</span>             <span class="c1">// Melzi
</span><span class="n">BOARD_RUMBA</span>             <span class="c1">// Rumba
</span><span class="n">BOARD_RAMBO</span>             <span class="o">//</span> <span class="n">Rambo</span></code></pre></figure>

<div class="alert alert-info"><ul class="fa-ul"><li>
<i class="fa fa-info-circle fa-lg fa-li" aria-hidden="true"></i>
<p>For those who’re using sanguino board paired with arduino ide 1.6.8, to add sanguino board to the board list, kindly go to <code class="highlighter-rouge">File &gt; Preference &gt; Additional Boards Manager URLs</code> and add <a href="https://raw.githubusercontent.com/Lauszus/Sanguino/master/package_lauszus_sanguino_index.json">this source URL</a>. After adding the above URL, kindly go to <code class="highlighter-rouge">Tools &gt; Boards &gt; Boards Manager</code> then install Sanguino from the list, an internet connection is required. Credit goes to <a href="http://dustsreprap.blogspot.my/2015/06/better-way-to-install-sanguino-in.html">dustreprap</a>.</p>
</li></ul></div>

<hr>

<h3 id="machine-name">Machine Name</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define CUSTOM_MACHINE_NAME "3D Printer"</span></code></pre></figure>

<p>This is the name of your printer for example setting to delta would display “delta ready” after the printer has been turned on</p>

<hr>

<h3 id="uuid">UUID</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define MACHINE_UUID "00000000-0000-0000-0000-000000000000"</span></code></pre></figure>

<p>A unique ID for your 3D printer, it is almost like a MAC Address and can be generated from <a href="http://www.uuidgenerator.net/version4">here</a>.</p>

<hr>

<h3 id="extruder">Extruder</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define EXTRUDERS 1</span></code></pre></figure>

<p>This defines how many extruders you have for your 3d printer model.</p>

<p>If you have more than one extruder, uncomment codes below</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">//#define EXTRUDER_OFFSET_X {0.0, 20.00}
</span><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">EXTRUDER_OFFSET_Y</span> <span class="p">{</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.00</span><span class="p">}</span></code></pre></figure>

<p>As for more than 2 extruder at once, I’m not sure hwo to set them up.</p>

<hr>

<h2 id="power-supply">Power Supply</h2>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define POWER_SUPPLY 1</span></code></pre></figure>

<p>What power supply you’re using. ATX;1 or X-Box 360;2. If you’re using LED Strip power supply, just use 1</p>

<hr>

<h2 id="thermal-settings">Thermal Settings</h2>

<h3 id="thermistor">Thermistor</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define TEMP_SENSOR_0 5 //This is your main extruder
#define TEMP_SENSOR_1 0
#define TEMP_SENSOR_2 0
#define TEMP_SENSOR_3 0
#define TEMP_SENSOR_BED 3 //Heated bed</span></code></pre></figure>

<p>These are the profile of your thermistors. Generic profile are often “1” which is “100K Thermistor”. If you can get exact brand and thermistor type for your hotend/heated bed, use that particular number/value/profile. Because each thermistor has their own characteristics to report temperature.</p>

<div class="alert alert-warning"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-circle fa-lg fa-li" aria-hidden="true"></i>
<p>This is crucial to ensure exact temperature measurement.</p>

<p>If you’re unsure, just use 100k thermistor for <code class="highlighter-rouge">temp_sensor</code> and <code class="highlighter-rouge">temp_sensor_bed</code></p>
</li></ul></div>

<hr>

<h3 id="temperature-range">Temperature Range</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define HEATER_0_MINTEMP 5
#define HEATER_1_MINTEMP 5
#define HEATER_2_MINTEMP 5
#define HEATER_3_MINTEMP 5
#define BED_MINTEMP 5</span></code></pre></figure>

<p>One of the safety feature that will prevent the printer from working. Room temperature typically has a range of about 10-40’c, if one of the sensor goes below the specified value above, Marlin would prevent the user from using it.</p>

<p><code class="highlighter-rouge">MINTEMP ERROR</code>: This error means your thermistor isn’t connected into the temperature pin</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define HEATER_0_MAXTEMP 285
#define HEATER_1_MAXTEMP 275
#define HEATER_2_MAXTEMP 275
#define HEATER_3_MAXTEMP 275
#define BED_MAXTEMP 130</span></code></pre></figure>

<p>Maximum temperature for these heating element. If Marlin reads the temperature past these values, it will stop working instantly for safety purpose. For E3D V6, 285 is the maximum value to most people.</p>

<p><code class="highlighter-rouge">MAXTEMP ERROR</code>: This means the thermistor legs/wires are shorted each other.</p>

<hr>

<h3 id="pid">PID</h3>

<p>This is a setting to ensure stable temperature on your hotend and heated bed. Marlin will try to hit the target temperature based on the PID values. This is very important for hotends so that it won’t overshoot when trying to reach the temperature and during printing</p>

<p>Kindly refer <a href="http://reprap.org/wiki/PID_Tuning">here</a> for having Marlin to do the auto tune the PID. These are usually done once when you’re changing thermistor, heating element, the board and power supply; 12v and 24v system.</p>

<p>The target temperature during auto tune process is your highest target temperature (In my opinion).</p>

<p>More detailed info about what PID are <a href="https://en.wikipedia.org/wiki/PID_controller">here</a>.</p>

<div class="alert alert-info"><ul class="fa-ul"><li>
<i class="fa fa-info-circle fa-lg fa-li" aria-hidden="true"></i>
<p><code class="highlighter-rouge">M301</code> sets up Hotend PID.</p>

<p><code class="highlighter-rouge">M304</code> sets up bed PID.</p>

<p>This function is accessible trough the LCD (Hotend only).</p>
</li></ul></div>

<hr>

<h3 id="safety">Safety</h3>

<hr>

<h4 id="cold-extrusion-prevention">Cold extrusion prevention</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define EXTRUDE_MINTEMP 170</span></code></pre></figure>

<p>This will prevent the extruder motor from moving if the hotend temperature is less than 170’c.</p>

<hr>

<h4 id="thermal-runaway-protection">Thermal Runaway Protection</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">// #define THERMAL_PROTECTION_HOTENDS // Enable thermal protection for all extruders
</span><span class="o">//</span> <span class="err">#</span><span class="n">define</span> <span class="n">THERMAL_PROTECTION_BED</span>     <span class="o">//</span> <span class="n">Enable</span> <span class="n">thermal</span> <span class="n">protection</span> <span class="k">for</span> <span class="n">the</span> <span class="n">heated</span> <span class="n">bed</span></code></pre></figure>

<p>This one is a cool feature to have. This one actually measures the current temperature and then sets a timer to it. If the timeout has reached then Marlin will stop the printing process.</p>

<p>The idea here is to avoid any loose thermistor fixture to its designated slot:
For example it suddenly came loose in the hotend during printing; target temperature at 230’c, but thermistor reading on Marlin shows 170’c, Marlin thinks the hotend temperature is low and need to be powered. Without this, the hotend will heat up indefinitely until it is bright red and eventually burn everything due to misreading of the temperature from the loose thermistor.</p>

<p>How it works is; target temperature at 190’c, after reaching 190’c this protection will start its timeout. If the reading was below the target then Marlin will power the hotend with timeout running as well. If the timeout has been triggered when the heating element still fully powered, Marlin will stop the whole process. Same goes for the heated bed.</p>

<p>The config of these parameters can be found in “configuration_adv.h” file.</p>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">Information</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>In case of false thermal runaways, increase the watch period:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define WATCH_TEMP_PERIOD 20   // Seconds
#define WATCH_TEMP_INCREASE 2  // Degrees Celsius</span></code></pre></figure>

</div>
</div>

<hr>

<h2 id="mechanical">Mechanical</h2>

<h3 id="special-machines">Special Machines</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">// Uncomment this option to enable CoreXY kinematics
//#define COREXY
// Uncomment this option to enable CoreXZ kinematics
//#define COREXZ`
// Enable this option for Toshiba steppers
</span><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">CONFIG_STEPPERS_TOSHIBA</span></code></pre></figure>

<p>These are for special type of machines and configurations because they uses different types of algorithms to move around. If you’re using prusa, mendel, airwolf, or basically a cartesian based printer, as well as nema based stepper motor, leave these commented</p>

<hr>

<h3 id="endstops">Endstops</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">const</span> <span class="n">bool</span> <span class="n">X_MIN_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">Y_MIN_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">Z_MIN_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">X_MAX_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">Y_MAX_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">Z_MAX_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// set to true to invert the logic of the endstop.
</span><span class="k">const</span> <span class="n">bool</span> <span class="n">Z_MIN_PROBE_ENDSTOP_INVERTING</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="o">//</span> <span class="n">set</span> <span class="n">to</span> <span class="nb">true</span> <span class="n">to</span> <span class="n">invert</span> <span class="n">the</span> <span class="n">logic</span> <span class="n">of</span> <span class="n">the</span> <span class="n">endstop</span><span class="p">.</span></code></pre></figure>

<p>Inverting between triggered and open state when issuing M119 command. Usually not touched but if you don’t want to fiddle the wiring again, you can invert these.</p>

<hr>

<h3 id="z-probe-options">Z Probe Options</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">Z_MIN_PROBE_ENDSTOP</span></code></pre></figure>

<p>If you want to use both probe and default z min switch for your 3D printer, enable this. However, This requires extra setups to be done. If you’re using Ramps 1.4, the probe pins are located in D32 of the aux4 array that used by the lcd panel. You have to change the pin manually from the board pin file for example “pins_RAMPS_14.h” located at <code class="highlighter-rouge">#define Z_MIN_PROBE_PIN  32</code>. I would change this to pin 19 (z max) since it never really been used. This extra ports is actually the Z Probe that is used for your auto bed leveling.</p>

<p>Another way is to change between these <code class="highlighter-rouge">#define Z_MIN_PROBE_PIN  32</code>, <code class="highlighter-rouge">#define Z_MIN_PIN          18</code> and <code class="highlighter-rouge">#define Z_MAX_PIN          19</code>  according to your board. This is not for beginners.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN</span></code></pre></figure>

<p>This however uses single switch for your z axis only. If you only want to use z probe for everything related to homing and bed leveling, enable this option. Note that either one of them can be enabled at a time.</p>

<p>Note to dev; Please make the comment explanation much simpler or the define variable, it’s so confusing that reading it again can took me 1-5 minutes to figure out</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">DISABLE_Z_MIN_PROBE_ENDSTOP</span></code></pre></figure>

<p>This typically disables your probe feature. Only applicable to <code class="highlighter-rouge">//#define Z_MIN_PROBE_ENDSTOP</code> enabled</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_MIN_PROBE_REPEATABILITY_TEST</span></code></pre></figure>

<p>This enables you to test the reliability of your probe.
Issue a M48 command to start testing. It will give you a standard deviation for the probe.
Tip: 0.02 mm is normally acceptable for bed leveling to work.</p>

<hr>

<h3 id="motor-movement">Motor Movement</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define INVERT_X_DIR true
#define INVERT_Y_DIR false
#define INVERT_Z_DIR true
#define INVERT_E0_DIR false
#define INVERT_E1_DIR false
#define INVERT_E2_DIR false
#define INVERT_E3_DIR false</span></code></pre></figure>

<p>These inverts the motor movement for each axis. Usually flipping the connector will be okay but if that’s such a hassle, just invert these without the need to fiddle with your electronic.</p>

<div class="alert alert-danger"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-triangle fa-lg fa-li" aria-hidden="true"></i>
<p>If you’re not careful on this, your axis will crash to the wrong direction. Either flip the connector or invert the value above. Make sure you try to move your axis manually via pronterface/repetier-host or lcd menu. Make sure all of your axis are in the middle of their travel to avoid them crashing.</p>
</li></ul></div>

<hr>

<h3 id="axis-homing">Axis Homing</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">MIN_Z_HEIGHT_FOR_HOMING</span> <span class="mi">4</span></code></pre></figure>

<p>This works like how a probe based 3d printer works when homing. Instead of increase z height after x and y has been homed, Z axis are raised first before homing procedure. This is also to avoid from the head crashing to the bed mounting such as screws, bulldog clip and some other stuffs. This works with auto bed leveling enabled and this will be triggered only when z axis are less than defined value, else the z axis will not move.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define X_HOME_DIR -1
#define Y_HOME_DIR -1
#define Z_HOME_DIR -1</span></code></pre></figure>

<p>This tells Marlin where the head is at when all the endstop has been triggered. typical setup are all at min position; bottom front left side of the bed. In some cases, some owner puts the home endstops at max position and these needs to be changed if max position are used.</p>

<div class="alert alert-danger"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-triangle fa-lg fa-li" aria-hidden="true"></i>
<p>Setting the <code class="highlighter-rouge">home_dir</code> would lead to a mirrored print after it has finished.</p>
</li></ul></div>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define min_software_endstops true
#define max_software_endstops true</span></code></pre></figure>

<p>These are one of the safety features that prevents manual movement exceeding the below specified value. The head can only move within the specified value below.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define X_MIN_POS 0
#define Y_MIN_POS 0
#define Z_MIN_POS 0
#define X_MAX_POS 200
#define Y_MAX_POS 200
#define Z_MAX_POS 170</span></code></pre></figure>

<p>Usually the <code class="highlighter-rouge">MIN_POS</code> are left at 0 value and <code class="highlighter-rouge">MAX_POS</code> depends on your maximum travel. Setting this too high would risk the printer’s carriage crashing to each ends. This needs to be set in conjunctin with home offset eeprom variable to work properly. If you don’t want to set using eeprom, you can fiddle with <code class="highlighter-rouge">MIN_POS</code> value above as a substitute to eeprom’s Home Offset.</p>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">Home Offset</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Values are pulled from <code class="highlighter-rouge">MIN_POS</code>. Use <code class="highlighter-rouge">M206</code> from pronterface</p>
</div>
</div>

<hr>

<h3 id="filament-runout-sensor">Filament Runout Sensor</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">FILAMENT_RUNOUT_SENSOR</span></code></pre></figure>

<p>This one is optional yet cool feature to have. An extra endstop switch is required to detect if the filament is present or not and the switch usually in normally closed/open state when the filament is present. If filament ran out, M600 command will be issued immediately.</p>

<hr>

<h2 id="bed-leveling">Bed Leveling</h2>

<h3 id="meshmanual-bed-leveling">Mesh/Manual Bed Leveling</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">MESH_BED_LEVELING</span></code></pre></figure>

<p>Bed elevation are not equal and the bed shape might be a bow shaped in the middle when it is hot nor manual bed calibration works perfect on all 4 point during initial setup. This one is slightly more advanced technique of bed leveling process where each point will have their respective elevation values</p>

<p>Enable <code class="highlighter-rouge">//#define MANUAL_BED_LEVELING</code> to access mesh bed leveling option from lcd panel.</p>

<hr>

<h3 id="auto-bed-leveling">Auto Bed Leveling</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define AUTO_BED_LEVELING_FEATURE</span></code></pre></figure>

<p>If you want to use auto bed leveling feature, enable this. This works almost like mesh bed leveling except it will be done automatically. The command to do bed leveling squence is G29 after G28 has been issued. (G29 is dependent on G28 to work properly)</p>

<hr>

<h4 id="grid">Grid</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define AUTO_BED_LEVELING_GRID</span></code></pre></figure>

<p>Whether or not you want to use grid probing matrix or 3-point probing method.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define LEFT_PROBE_BED_POSITION 15
#define RIGHT_PROBE_BED_POSITION 145
#define FRONT_PROBE_BED_POSITION 20
#define BACK_PROBE_BED_POSITION 150</span></code></pre></figure>

<p>These specifies min and max position for grid matrix on your bed.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define AUTO_BED_LEVELING_GRID_POINTS 3</span></code></pre></figure>

<p>This option will tell Marlin what is the probing resolution would be, 2 and 3 are often used. These value will be squared, E.g using 2 will probe 4 points, using 4 will probe 16 points.</p>

<hr>

<h4 id="point">3-Point</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define ABL_PROBE_PT_1_X 15
#define ABL_PROBE_PT_1_Y 180
#define ABL_PROBE_PT_2_X 15
#define ABL_PROBE_PT_2_Y 20
#define ABL_PROBE_PT_3_X 170
#define ABL_PROBE_PT_3_Y 20</span></code></pre></figure>

<p>These are the option for 3-point probing by specifying each one of their coordinates on XY plane</p>

<hr>

<h4 id="offsets">Offsets</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define X_PROBE_OFFSET_FROM_EXTRUDER -44  // X offset: -left  [of the nozzle] +right
#define Y_PROBE_OFFSET_FROM_EXTRUDER -8  // Y offset: -front [of the nozzle] +behind
#define Z_PROBE_OFFSET_FROM_EXTRUDER -2.50   // Z offset: -below [the nozzle](for most negative! positive when using tilt probes or the nozzle based probes)`</span></code></pre></figure>

<p>This is the position of your probe from your nozzle. To determine exact location, use relative position by specifying <code class="highlighter-rouge">G92 x0 y0 z0</code>, then slowly work your way to find exact probe point of your probe. Use Pronterface/repeter-host to get your own value for the above offset setup and issue <code class="highlighter-rouge">M114</code> to get the exact values.</p>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">EEPROM: Z-Probe Offset</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Will be pulled from <code class="highlighter-rouge">#define Z_PROBE_OFFSET_FROM_EXTRUDER -2.50</code> and the command are <code class="highlighter-rouge">M851</code>.</p>
</div>
</div>

<hr>

<h4 id="procedure">Procedure</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_RAISE_BEFORE_PROBING 15   // How much the Z axis will be raised before traveling to the first probing point.
#define Z_RAISE_BETWEEN_PROBINGS 5  // How much the Z axis will be raised when traveling from between next probing points.
#define Z_RAISE_AFTER_PROBING 15    // How much the Z axis will be raised after the last probing point.</span></code></pre></figure>

<p>When the G29 command has been issued, z axis will move between these values. This too are important so that if your bed are not perpendicular, the probe will get triggered especially servo based probe that has switch, this is to avoid the lever from brushing against the bed</p>

<div class="panel panel-warning">
<div class="panel-heading">
<i class="fa fa-exclamation-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">G29 Movement</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Make sure you have enough clearance when the probe are moving between probing points to avoid complications. It is necessary not to let the probe get triggered during movement to the next probe point.</p>
</div>
</div>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_PROBE_END_SCRIPT "G1 Z10 F12000\nG1 X15 Y330\nG1 Z0.5\nG1 Z10" // These commands will be executed in the end of G29 routine.</span></code></pre></figure>

<p>This one is for custom script, each command are divided with <code class="highlighter-rouge">\n</code> (Newline) and executed after G29 are done</p>

<hr>

<h4 id="probe-type">Probe Type</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define FIX_MOUNTED_PROBE</span></code></pre></figure>

<p>This in theory are for proximity sensors. Since using proximity sensors are fixed probe (not retractable), this feature will ignore the z probe triggered state during printing or other than G28/G29 command so that you’re able to bring the nozzle closer to the bed.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_PROBE_SLED</span></code></pre></figure>

<p>This is almost the same like proximity sensors where there are another carriage that are meant for the sensor. The x carriage will move to the sled and latch itself to bring the sled for probing process, then when it is done the sled will be parked again. Default: Disabled</p>

<hr>

<h4 id="probe-safety">Probe Safety</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define Z_SAFE_HOMING</span></code></pre></figure>

<p>This avoids the risk of z probe going out of the bed when homing all of the axis especially when it is the z axis’s turn to home. This will bring the z axis probe into the middle of the bed then wil do the z homing to find z position. Disable this <code class="highlighter-rouge">#define Z_SAFE_HOMING</code> if you’re using more tan 1 z axis sensor (probes and switch) and enable this<code class="highlighter-rouge">#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN</code> if you want to have your printer head to be parked outside of the printing area. These will work together where usign the G28 command will not going to use the z-probe while using the G29 will use the z-probe instead of the default z min switch. If <code class="highlighter-rouge">#define Z_SAFE_HOMING</code> is enabled, then the z min switch will never be triggered since the head will always move to the center of the bed area.</p>

<hr>

<h2 id="movement">Movement</h2>

<h3 id="homing-speed">Homing Speed</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define HOMING_FEEDRATE {50*45, 50*45, 4*45, 0}</span></code></pre></figure>

<p>These are the homing speed when doing auto home and auto bed leveling.</p>

<div class="alert alert-warning"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-circle fa-lg fa-li" aria-hidden="true"></i>
<p>It is advisable not to use high value to achieve better accuracies as well as avoid skipping steps on your stepper motor.</p>
</li></ul></div>

<hr>

<h3 id="stepsmm">Steps/mm</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEFAULT_AXIS_STEPS_PER_UNIT   {78.74, 78.74, 2560, 95}</span></code></pre></figure>

<p>This is the most crucial setting for your settings. These will determine the printer head will move according to the specified distance/location or not. The value above (X, Y, Z, E) are the default value for (20 tooth gt2 pulley, M10 metric threaded rods, mk8 extruder style) and based on A4899 stepstick.</p>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">DRV8825</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>These values had to be doubled; A4899 = 1/16 step, DRV8825 = 1/32 step
You should go to <code class="highlighter-rouge">http://prusaprinters.org/calculator/</code> to calculate the steps</p>
</div>
</div>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">Steps Per Unit</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Pulled from the above setting, configured via <code class="highlighter-rouge">M92</code> command.</p>
</div>
</div>

<div class="alert alert-warning"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-circle fa-lg fa-li" aria-hidden="true"></i>
<p>It is advisable to use exact or reference value below so you’re able to achieve higher precision and correct distance travelled.</p>
</li></ul></div>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">Information</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Some presets to get you started (1/16 microstepping)</p>

<table class="preset">
<tr>
	<th>Type</th>
	<th>Steps/mm</th>
</tr>
<tr>
	<td>GT2 20T Pulley</td>
	<td>78.74</td>
</tr>
<tr>
	<td>M10 Metric Threaded Rod</td>
	<td>2560</td>
</tr>
<tr>
	<td>Standard MK8 Extruder Set</td>
	<td>95</td>
</tr>
<tr>
	<td>T8 Acme Rod</td>
	<td>406</td>
</tr>
  </table>
</div>
</div>

<hr>

<h3 id="acceleration">Acceleration</h3>

<h4 id="max-acceleration">Max Acceleration</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEFAULT_MAX_FEEDRATE          {400, 400, 4, 45}    // (mm/sec)
#define DEFAULT_MAX_ACCELERATION      {5000,5000,50,5000}    // X, Y, Z, E maximum start speed for accelerated moves. E default values are good for Skeinforge 40+, for older versions raise them a lot.</span></code></pre></figure>

<p>These are the maximum allowed acceleration rate that you limit on Marlin to. No matter how high your specified acceleration on <code class="highlighter-rouge">G0</code> commands are, it will be limited to the above values.</p>

<div class="alert alert-danger"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-triangle fa-lg fa-li" aria-hidden="true"></i>
<p>Avoid setting this too high to avoid skipping steps during movement especially on high speed movements.</p>
</li></ul></div>

<div class="panel panel-info">
<div class="panel-heading">
<i class="fa fa-info-circle pull-left" aria-hidden="true"></i><h4 class="panel-title">Maximum Acceleration (mm/s2)</h4>
</div>
<div class="panel-body">
<p>
</p>
<p>Pulled from the above setting, on <code class="highlighter-rouge">M201</code> command.</p>
</div>
</div>

<hr>

<h4 id="default-acceleration">Default Acceleration</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEFAULT_ACCELERATION          1000    // X, Y, Z and E acceleration in mm/s^2 for printing moves
#define DEFAULT_RETRACT_ACCELERATION  2000    // E acceleration in mm/s^2 for retracts
#define DEFAULT_TRAVEL_ACCELERATION   3000    // X, Y, Z acceleration in mm/s^2 for travel (non printing) moves</span></code></pre></figure>

<p>These are the default acceleration when movement such as <code class="highlighter-rouge">G0 x20</code> without <code class="highlighter-rouge">F</code> are issued (acceleration/speed).</p>

<div class="alert alert-danger"><ul class="fa-ul"><li>
<i class="fa fa-exclamation-triangle fa-lg fa-li" aria-hidden="true"></i>
<p>Do not set these too high as there are mechanical constraints too that might make your stepper motor make a whining noise or skipping steps when it starts to move or between movements.</p>
</li></ul></div>

<div class="alert alert-info"><ul class="fa-ul"><li>
<i class="fa fa-info-circle fa-lg fa-li" aria-hidden="true"></i>
<p>Accelerations: P=printing, R=retract and T=travel
Pulled from the above setting, on <code class="highlighter-rouge">M204</code> command.</p>
</li></ul></div>

<hr>

<h4 id="jerks">Jerks</h4>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEFAULT_XYJERK                15.0    // (mm/sec)</span></code></pre></figure>

<p>Jerk works in conjunction with acceleration above. Both of acceleration and jerk will affect your print quality too especially cube and round shape.</p>

<div class="alert alert-info"><ul class="fa-ul"><li>
<i class="fa fa-info-circle fa-lg fa-li" aria-hidden="true"></i>
<p>Advanced variables: S=Min feedrate (mm/s), T=Min travel feedrate (mm/s), B=minimum segment time (ms), pulled from the above setting, on <code class="highlighter-rouge">M205</code> command.</p>
</li></ul></div>

<hr>

<h2 id="additional-features-i-classfa-fa-sticky-note-o-text-info-aria-hiddentruei">Additional Features <i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i>
</h2>

<h3 id="eeprom-i-classfa-fa-sticky-note-o-text-info-aria-hiddentruei">EEPROM <i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i>
</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define EEPROM_SETTINGS</span></code></pre></figure>

<p>This option are recommended to turn this on (enable). This option enables the EEPROM on your board and you can just change several settings without the need of re-uploading the firmware to your board again such as modifying the z-probe offset value (I often did this). Some of these settings are directly accissble from the lcd panel&gt;control section</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="n">Several</span> <span class="n">useful</span> <span class="n">command</span> <span class="n">on</span> <span class="n">reading</span> <span class="n">and</span> <span class="n">storing</span> <span class="n">commands</span> <span class="n">are</span>
<span class="n">M500</span> <span class="o">-</span> <span class="n">Save</span> <span class="n">the</span> <span class="n">applied</span> <span class="n">setting</span>
<span class="n">M501</span> <span class="o">-</span> <span class="n">Load</span><span class="o">/</span><span class="n">read</span> <span class="n">the</span> <span class="n">saved</span> <span class="n">setting</span> <span class="p">(</span><span class="n">not</span> <span class="n">from</span> <span class="n">config</span><span class="p">.</span><span class="n">h</span><span class="p">)</span>
<span class="n">M502</span> <span class="o">-</span> <span class="n">Loads</span> <span class="n">the</span> <span class="n">setting</span> <span class="n">from</span> <span class="n">config</span><span class="p">.</span><span class="n">h</span> <span class="p">(</span><span class="k">this</span> <span class="n">are</span> <span class="n">not</span> <span class="n">saved</span> <span class="n">to</span> <span class="n">the</span> <span class="n">eeeprom</span> <span class="n">by</span> <span class="k">default</span><span class="p">)</span></code></pre></figure>

<div class="panel panel-info">
  <div class="panel-heading">
    <h4 class="panel-title">
<i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i> <i class="fa fa-desktop text-info" aria-hidden="true"></i>
    EEPROM</h4>
</div>
  <div class="panel-body">
    <p>By enabling this, you are able to access variables saved in non-volatile memory of your board and features that can be accessed are all marked with <i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i> while those options marked with <i class="fa fa-desktop text-info" aria-hidden="true"></i> can be accessed from LCD directly</p>
  </div>
</div>

<hr>

<h3 id="preheat-presets-i-classfa-fa-sticky-note-o-text-info-aria-hiddentruei-i-classfa-fa-desktop-text-info-aria-hiddentruei">Preheat Presets <i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i> <i class="fa fa-desktop text-info" aria-hidden="true"></i>
</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define PLA_PREHEAT_HOTEND_TEMP 180
#define PLA_PREHEAT_HPB_TEMP 70
#define PLA_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255
</span>
<span class="cp">#define ABS_PREHEAT_HOTEND_TEMP 240
#define ABS_PREHEAT_HPB_TEMP 110
#define ABS_PREHEAT_FAN_SPEED 0   // Insert Value between 0 and 255</span></code></pre></figure>

<p>These are preset when you want to preheat your hotend/bed before printing without the need of going through control&gt;temperature. These option are accessible from Prepare&gt;Preheat ABS/PLA</p>

<div class="panel panel-info">
  <div class="panel-heading">
    <h4 class="panel-title">
<i class="fa fa-sticky-note-o text-info" aria-hidden="true"></i> <i class="fa fa-desktop text-info" aria-hidden="true"></i>
    Material heatup parameters</h4>
</div>
  <div class="panel-body">
    <p>Pulled from the above setting, <code class="highlighter-rouge">M145</code> command to configure; <code class="highlighter-rouge">M0</code> is PLA, <code class="highlighter-rouge">M1</code> is ABS.</p>
  </div>
</div>

<hr>

<h2 id="lcd-and-sd">LCD and SD</h2>

<h3 id="language">Language</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define LANGUAGE_INCLUDE GENERATE_LANGUAGE_INCLUDE(en)</span></code></pre></figure>

<p>This will translate Marlin into your preferred language, check language.h for more info</p>

<hr>

<h3 id="additional-hardware-support-i-classfa-fa-sticky-note-text-warning-aria-hiddentruei">Additional Hardware Support <i class="fa fa-sticky-note text-warning" aria-hidden="true"></i>
</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define SDSUPPORT // Enable SD Card Support in Hardware Console</span></code></pre></figure>

<p>If you’re using SD printing either from lcd or sdcard module plugged onto your board directly, enable this.</p>

<div class="panel panel-info">
  <div class="panel-heading">
    <h4 class="panel-title">
<i class="fa fa-sticky-note text-warning" aria-hidden="true"></i>
    </h4>
</div>
  <div class="panel-body">
    <p>If this is not enabled, SDCard printing will not be supported even if you enabled LCD type with SDCard slot built-in</p>
  </div>
</div>

<hr>

<h3 id="lcd-type">LCD Type</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define REPRAP_DISCOUNT_SMART_CONTROLLER</span></code></pre></figure>

<p>The above is to be enabled if you’re using Reprap Discount Smart Controller, typically has 20 x 4 lcd panel</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define REPRAP_DISCOUNT_FULL_GRAPHIC_SMART_CONTROLLER</span></code></pre></figure>

<p>This one if you’re using a full graphic type typically has 128 x 64 pixels.</p>

<p>Do enable the one that suits to your lcd panel, using incorrect option would not display anything</p>

<p>The above LCD type are commonly used, the rest of the other LCD panel are listed in <code class="highlighter-rouge">configuration.h</code> file</p>

<hr>

<h2 id="servo">Servo</h2>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define NUM_SERVOS 1 // Servo index starts with 0 for M280 command</span></code></pre></figure>

<p>Will tell Marlin how many servos you will be using. Enable this to enable servo functionality else servo control will not work</p>

<hr>

<h3 id="servo-placement-and-angle">Servo Placement and Angle</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">//#define X_ENDSTOP_SERVO_NR 1
//#define Y_ENDSTOP_SERVO_NR 2
</span><span class="cp">#define Z_ENDSTOP_SERVO_NR 0
#define SERVO_ENDSTOP_ANGLES {\{0,0}, {0,0}, {12,90}} // X,Y,Z Axis Extend and Retract angles</span></code></pre></figure>

<p>This defines the servo location and extend/retract angle values. To find the value, you have to play with M280 command several time to get the right extend/retract angles that suits your needs</p>

<hr>

<h3 id="servo-deactivation">Servo Deactivation</h3>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEACTIVATE_SERVOS_AFTER_MOVE
</span>
<span class="cp">#if ENABLED(DEACTIVATE_SERVOS_AFTER_MOVE)
</span>  <span class="cp">#define SERVO_DEACTIVATION_DELAY 1250
#endif</span></code></pre></figure>

<p>This is to deactivate the servo after movement. This is recommended to be enabled to avoid interference when Marlin tries to hold the servo even on retract position. This is due to high amperage generated by the extruder motor wiring during movement (printing) and cause the servo gone mad or moves on its own when it wasn’t supposed to.</p>

<p>Use a value with a margin so that servo able to move the probe to its position before deactivation.</p>

<hr>

<h2 id="filament-sensor">Filament Sensor</h2>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="o">//</span><span class="err">#</span><span class="n">define</span> <span class="n">FILAMENT_WIDTH_SENSOR</span></code></pre></figure>

<p>This if you have filament width sensor <code class="highlighter-rouge">http://www.thingiverse.com/thing:454584</code>. This eliminates the need of doign flow rate calibration and Marlin will adjust the flow rate according to the sensed filament width</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define DEFAULT_NOMINAL_FILAMENT_DIA 3.00</span></code></pre></figure>

<p>Set to the value that the typical filament diameter size. If you’re typically using 1.75 and physically measured the filament at 1.70, just put 1.75. Marlin will compensate the diameter automatically. Same goes for 3.00mm as well</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define FILAMENT_SENSOR_EXTRUDER_NUM 0</span></code></pre></figure>

<p>Filament sensor used on which extruder</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define MEASUREMENT_DELAY_CM        14</span></code></pre></figure>

<p>Distance from the filament width sensor to the middle of the barrel (or middle of the heater block)
NOTE TO DEV: Can you clarify on this one either it is in the middle of the heatbreak or the heater block?</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define MEASURED_UPPER_LIMIT         3.30  //upper limit factor used for sensor reading validation in mm
#define MEASURED_LOWER_LIMIT         1.90  //lower limit factor for sensor reading validation in mm</span></code></pre></figure>

<p>The range of your filament width. Set them according to your filament preferences. Above value are for 3mm while 1.75mm should be ranging from 1.60 to 1.90 (theoretically).</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define MAX_MEASUREMENT_DELAY       20</span></code></pre></figure>

<p>This defines the maximum memory allocated to be used in conjunction with <code class="highlighter-rouge">#define MEASUREMENT_DELAY_CM        14</code> and the value must be larger than <code class="highlighter-rouge">#define MEASUREMENT_DELAY_CM        14</code>. Avoid setting this too high to reduce RAM usage</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#define FILAMENT_LCD_DISPLAY</span></code></pre></figure>

<p>Displays the measured filament data on the lcd screen instead of just a static status.</p>

            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /content -->

    
    <!-- footer -->
    <div class="container-fluid">
      <footer>
        <div class="row">
          <div class="col-md-9 col-md-offset-3">
            <hr>
            <ul class="list-unstyled">
              <li class="pull-right"><a href="#top" data-proofer-ignore>Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a></li>
              <li>Brought to you with <i class="fa fa-heart text-danger" aria-hidden="true"></i> lack of
                <i class="fa fa-bed" aria-hidden="true"></i> and lots of
                <i class="fa fa-coffee" aria-hidden="true"></i>.
              </li>
<li>The contents of this website are © 2016 under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a> License.</li>
            </ul>
          </div>
<!-- /.col-lg-12 -->
        </div>
<!-- /.row -->
      </footer>
    </div>
<!-- /.container -->
    <!-- /footer -->

    <!-- analytics -->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-76230130-1', {
        'cookieDomain': 'marlinfw.org',
        'siteSpeedSampleRate': 80
    });

    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>

<!-- /analytics -->

  </body>
</html>
