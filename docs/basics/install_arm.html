<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Installing Marlin 2.0 with PlatformIO | Marlin Firmware</title> <meta property="og:title" content="Installing Marlin 2.0 with PlatformIO"> <meta name="author" content="ModMike"> <meta property="og:locale" content="en_US"> <meta name="description" content="Marlin 2 Installation Quick Start Guide"> <meta property="og:description" content="Marlin 2 Installation Quick Start Guide"> <link rel="canonical" href="http://marlinfw.org/docs/basics/install_arm.html"> <meta property="og:url" content="http://marlinfw.org/docs/basics/install_arm.html"> <meta property="og:site_name" content="Marlin Firmware"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2018-04-26T05:44:25+01:00"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@MarlinFirmware"> <meta name="twitter:creator" content="@ModMike"> <script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Installing Marlin 2.0 with PlatformIO","author":{"@type":"Person","name":"ModMike"},"datePublished":"2018-04-26T05:44:25+01:00","dateModified":"2018-04-26T05:44:25+01:00","description":"Marlin 2 Installation Quick Start Guide","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://marlinfw.org/assets/images/logo/marlin/small.png"},"name":"ModMike"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://marlinfw.org/docs/basics/install_arm.html"},"url":"http://marlinfw.org/docs/basics/install_arm.html"}</script> <link rel="icon" href="/assets/favicon.ico"> <link rel="stylesheet" href="/assets/stylesheets/main.css"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> <script src="/assets/javascript/head.min.js"></script> <script type="text/javascript">
      /**
       * As Github pages do not support https for custom domains
       * this is the current best workaround for #18.
       */
      var domains  = ['marlinfw.org', 'localhost', '127.0.0.1' ];
      var pathname = location.pathname.replace(/^\/MarlinDocumentation/, '')
      if (domains.indexOf(window.location.hostname) == -1)
          window.top.location.href = 'http://marlinfw.org' + pathname;

      /**
       * Another ugly workaround trying to improve UX reported by #35
       */
       if (location.protocol != 'http:')
           location.href = 'http:' + window.location.href.substring(window.location.protocol.length);

      /**
       * Improves overall speed by loading javascript and css resources in parallel
       * with the main page.
       */
      head.load(
          "/assets/stylesheets/font-awesome.min.css",

          "/assets/javascript/jquery-2.2.1.min.js",
          "/assets/javascript/jquery-ui.min.js",
          "/assets/javascript/bootstrap.min.js",
          "/assets/javascript/tocify.min.js",
          "/assets/javascript/custom.js",

          "/assets/javascript/sheetrock.min.js",
          "/assets/javascript/cookieconsent.min.js"
      );

      head.ready(function() {
        window.cookieconsent_options = {
          "message":"We use cookies to ensure you get the best experience on our website",
          "dismiss": "Got it!", "learnMore": "More info", "link":"", "theme": "dark-bottom"
        };
      });
    </script> </head> <body role="document"> <nav class="navbar navbar-default navbar-fixed-top custom-no-margin"> <div class="container"> <div class="navbar-header"> <a href="/" class="navbar-brand"> <img src="/assets/images/logo/marlin/text-25.png" alt="Marlin"> </a> <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <div class="navbar-collapse collapse" id="navbar-main"> <ul class="nav navbar-nav"> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-getting-started"> Getting Started <span class="caret"></span> </a> <ul class="dropdown-menu"> <li><a href="/docs/basics/introduction.html"> Introduction </a></li> <li class="divider"> </li> <li><a href="/meta/download/"> Download Marlin </a></li> <li><a href="/docs/basics/install.html"> Installing Marlin (AVR) </a></li> <li><a href="/docs/basics/install_arm.html"> Installing Marlin (ARM) </a></li> <li><a href="/docs/configuration/configuration.html"> Configuring Marlin </a></li> <li class="divider"> </li> <li><a href="/docs/basics/reporting_bugs.html"> Reporting bugs </a></li> </ul> </li> <li><a href="/meta/download/"> Download </a></li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation"> Documentation <span class="caret"></span> </a> <ul class="dropdown-menu"> <li class="dropdown-submenu configuration"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Configuration</a> <ul class="dropdown-menu"> <li><a href="/meta/configuration/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/configuration/configuration.html"> Configuring Marlin 1.1 </a></li> <li><a href="/docs/configuration/laser_spindle.html"> Laser/Spindle Configuration </a></li> <li><a href="/docs/configuration/probes.html"> Probe Configuration </a></li> </ul> </li> <li class="dropdown-submenu development"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development</a> <ul class="dropdown-menu"> <li><a href="/meta/development/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/development/boards.html"> Boards </a></li> <li class="divider"> </li> <li><a href="/docs/development/coding_standards.html"> Coding Standards </a></li> <li><a href="/docs/development/getting_started_pull_requests.html"> Contributing Code with Pull Requests </a></li> <li><a href="/docs/development/git_scripts.html"> Marlin Github Scripts </a></li> <li class="divider"> </li> <li><a href="/docs/development/contributing.html"> Contributing to Marlin </a></li> <li><a href="/docs/development/feature_request.html"> Feature requests </a></li> <li class="divider"> </li> <li><a href="/docs/development/fonts.html"> Adding new fonts </a></li> <li><a href="/docs/development/lcd_language.html"> LCD Language System </a></li> </ul> </li> <li class="dropdown-submenu gcode"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">G-code</a> <ul class="dropdown-menu"> <li><a href="/meta/gcode/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/gcode/G000-G001.html"> G0-G1: Linear Move </a></li> <li><a href="/docs/gcode/G002-G003.html"> G2-G3: Controlled Arc Move </a></li> <li><a href="/docs/gcode/G004.html"> G4: Dwell </a></li> <li><a href="/docs/gcode/G005.html"> G5: Bézier cubic spline </a></li> <li><a href="/docs/gcode/G010.html"> G10: Retract </a></li> <li><a href="/docs/gcode/G011.html"> G11: Recover </a></li> <li><a href="/docs/gcode/G012.html"> G12: Clean the Nozzle </a></li> <li><a href="/docs/gcode/G020.html"> G20: Inch Units </a></li> <li><a href="/docs/gcode/G021.html"> G21: Millimeter Units </a></li> <li><a href="/docs/gcode/G026.html"> G26: Mesh Validation Pattern </a></li> <li><a href="/docs/gcode/G027.html"> G27: Park the nozzle </a></li> <li><a href="/docs/gcode/G028.html"> G28: Auto Home </a></li> <li><a href="/docs/gcode/G029-mbl.html"> G29: Mesh Bed Leveling </a></li> <li><a href="/docs/gcode/G029-abl.html"> G29: Automatic Bed Leveling </a></li> <li><a href="/docs/gcode/G029-ubl.html"> G29: Unified Bed Leveling </a></li> <li><a href="/docs/gcode/G030.html"> G30: Single Z-Probe </a></li> <li><a href="/docs/gcode/G031.html"> G31: Dock Sled </a></li> <li><a href="/docs/gcode/G032.html"> G32: Undock Sled </a></li> <li><a href="/docs/gcode/G033.html"> G33: Delta Auto Calibration </a></li> <li><a href="/docs/gcode/G038.html"> G38.2-G38.3: Probe target </a></li> <li><a href="/docs/gcode/G090.html"> G90: Absolute Positioning </a></li> <li><a href="/docs/gcode/G091.html"> G91: Relative Positioning </a></li> <li><a href="/docs/gcode/G092.html"> G92: Set Position </a></li> <li><a href="/docs/gcode/M000-M001.html"> M0-M1: Unconditional stop </a></li> <li><a href="/docs/gcode/M003.html"> M3: Spindle CW / Laser On </a></li> <li><a href="/docs/gcode/M004.html"> M4: Spindle CCW / Laser On </a></li> <li><a href="/docs/gcode/M005.html"> M5: Spindle / Laser Off </a></li> <li><a href="/docs/gcode/M017.html"> M17: Enable Steppers </a></li> <li><a href="/docs/gcode/M018.html"> M18-M84: Disable steppers </a></li> <li><a href="/docs/gcode/M020.html"> M20: List SD Card </a></li> <li><a href="/docs/gcode/M021.html"> M21: Init SD card </a></li> <li><a href="/docs/gcode/M022.html"> M22: Release SD card </a></li> <li><a href="/docs/gcode/M023.html"> M23: Select SD file </a></li> <li><a href="/docs/gcode/M024.html"> M24: Start or Resume SD print </a></li> <li><a href="/docs/gcode/M025.html"> M25: Pause SD print </a></li> <li><a href="/docs/gcode/M026.html"> M26: Set SD position </a></li> <li><a href="/docs/gcode/M027.html"> M27: Report SD print status </a></li> <li><a href="/docs/gcode/M028.html"> M28: Start SD write </a></li> <li><a href="/docs/gcode/M029.html"> M29: Stop SD write </a></li> <li><a href="/docs/gcode/M030.html"> M30: Delete SD file </a></li> <li><a href="/docs/gcode/M031.html"> M31: Print time </a></li> <li><a href="/docs/gcode/M032.html"> M32: Select and Start </a></li> <li><a href="/docs/gcode/M033.html"> M33: Get Long Path </a></li> <li><a href="/docs/gcode/M034.html"> M34: SDCard Sorting </a></li> <li><a href="/docs/gcode/M042.html"> M42: Set Pin State </a></li> <li><a href="/docs/gcode/M043.html"> M43: Debug Pins </a></li> <li><a href="/docs/gcode/M043-T.html"> M43 T: Toggle Details (Debug Pins) </a></li> <li><a href="/docs/gcode/M048.html"> M48: Probe Accuracy Test </a></li> <li><a href="/docs/gcode/M073.html"> M73: Set Print Progress </a></li> <li><a href="/docs/gcode/M075.html"> M75: Start Print Job </a></li> <li><a href="/docs/gcode/M076.html"> M76: Pause Print Job </a></li> <li><a href="/docs/gcode/M077.html"> M77: Stop Print Job </a></li> <li><a href="/docs/gcode/M078.html"> M78: Print Job Stats </a></li> <li><a href="/docs/gcode/M080.html"> M80: Power On </a></li> <li><a href="/docs/gcode/M081.html"> M81: Power Off </a></li> <li><a href="/docs/gcode/M082.html"> M82: E Absolute </a></li> <li><a href="/docs/gcode/M083.html"> M83: E Relative </a></li> <li><a href="/docs/gcode/M085.html"> M85: Inactivity Shutdown </a></li> <li><a href="/docs/gcode/M092.html"> M92: Set Axis Steps-per-unit </a></li> <li><a href="/docs/gcode/M100.html"> M100: Free Memory </a></li> <li><a href="/docs/gcode/M104.html"> M104: Set Hotend Temperature </a></li> <li><a href="/docs/gcode/M105.html"> M105: Report Temperatures </a></li> <li><a href="/docs/gcode/M106.html"> M106: Set Fan Speed </a></li> <li><a href="/docs/gcode/M107.html"> M107: Fan Off </a></li> <li><a href="/docs/gcode/M108.html"> M108: Break and Continue </a></li> <li><a href="/docs/gcode/M109.html"> M109: Wait for Hotend Temperature </a></li> <li><a href="/docs/gcode/M110.html"> M110: Set Line Number </a></li> <li><a href="/docs/gcode/M111.html"> M111: Debug Level </a></li> <li><a href="/docs/gcode/M112.html"> M112: Emergency Stop </a></li> <li><a href="/docs/gcode/M113.html"> M113: Host Keepalive </a></li> <li><a href="/docs/gcode/M114.html"> M114: Get Current Position </a></li> <li><a href="/docs/gcode/M115.html"> M115: Firmware Info </a></li> <li><a href="/docs/gcode/M117.html"> M117: Set LCD Message </a></li> <li><a href="/docs/gcode/M119.html"> M119: Endstop States </a></li> <li><a href="/docs/gcode/M120.html"> M120: Enable Endstops </a></li> <li><a href="/docs/gcode/M121.html"> M121: Disable Endstops </a></li> <li><a href="/docs/gcode/M122.html"> M122: TMC Debugging </a></li> <li><a href="/docs/gcode/M125.html"> M125: Park Head </a></li> <li><a href="/docs/gcode/M126.html"> M126: Baricuda 1 Open </a></li> <li><a href="/docs/gcode/M127.html"> M127: Baricuda 1 Close </a></li> <li><a href="/docs/gcode/M128.html"> M128: Baricuda 2 Open </a></li> <li><a href="/docs/gcode/M129.html"> M129: Baricuda 2 Close </a></li> <li><a href="/docs/gcode/M140.html"> M140: Set Bed Temperature </a></li> <li><a href="/docs/gcode/M145.html"> M145: Set Material Preset </a></li> <li><a href="/docs/gcode/M149.html"> M149: Set Temperature Units </a></li> <li><a href="/docs/gcode/M150.html"> M150: Set RGB(W) Color </a></li> <li><a href="/docs/gcode/M155.html"> M155: Temperature Auto-Report </a></li> <li><a href="/docs/gcode/M163.html"> M163: Set Mix Factor </a></li> <li><a href="/docs/gcode/M164.html"> M164: Save Mix </a></li> <li><a href="/docs/gcode/M165.html"> M165: Set Mix </a></li> <li><a href="/docs/gcode/M190.html"> M190: Wait for Bed Temperature </a></li> <li><a href="/docs/gcode/M200.html"> M200: Set Filament Diameter </a></li> <li><a href="/docs/gcode/M201.html"> M201: Set Print Max Acceleration </a></li> <li><a href="/docs/gcode/M203.html"> M203: Set Max Feedrate </a></li> <li><a href="/docs/gcode/M204.html"> M204: Set Starting Acceleration </a></li> <li><a href="/docs/gcode/M205.html"> M205: Set Advanced Settings </a></li> <li><a href="/docs/gcode/M206.html"> M206: Set Home Offsets </a></li> <li><a href="/docs/gcode/M207.html"> M207: Set Firmware Retraction </a></li> <li><a href="/docs/gcode/M208.html"> M208: Set Firmware Recovery </a></li> <li><a href="/docs/gcode/M209.html"> M209: Set Auto Retract </a></li> <li><a href="/docs/gcode/M211.html"> M211: Software Endstops </a></li> <li><a href="/docs/gcode/M218.html"> M218: Set Hotend Offset </a></li> <li><a href="/docs/gcode/M220.html"> M220: Set Feedrate Percentage </a></li> <li><a href="/docs/gcode/M221.html"> M221: Set Flow Percentage </a></li> <li><a href="/docs/gcode/M226.html"> M226: Wait for Pin State </a></li> <li><a href="/docs/gcode/M240.html"> M240: Trigger Camera </a></li> <li><a href="/docs/gcode/M250.html"> M250: LCD Contrast </a></li> <li><a href="/docs/gcode/M260.html"> M260: I2C Send </a></li> <li><a href="/docs/gcode/M261.html"> M261: I2C Request </a></li> <li><a href="/docs/gcode/M280.html"> M280: Servo Position </a></li> <li><a href="/docs/gcode/M290.html"> M290: Babystep </a></li> <li><a href="/docs/gcode/M300.html"> M300: Play Tone </a></li> <li><a href="/docs/gcode/M301.html"> M301: Set Hotend PID </a></li> <li><a href="/docs/gcode/M302.html"> M302: Cold Extrude </a></li> <li><a href="/docs/gcode/M303.html"> M303: PID autotune </a></li> <li><a href="/docs/gcode/M304.html"> M304: Set Bed PID </a></li> <li><a href="/docs/gcode/M350.html"> M350: Set micro-stepping </a></li> <li><a href="/docs/gcode/M351.html"> M351: Set Microstep Pins </a></li> <li><a href="/docs/gcode/M355.html"> M355: Case Light Control </a></li> <li><a href="/docs/gcode/M360.html"> M360: SCARA Theta A </a></li> <li><a href="/docs/gcode/M361.html"> M361: SCARA Theta-B </a></li> <li><a href="/docs/gcode/M362.html"> M362: SCARA Psi-A </a></li> <li><a href="/docs/gcode/M363.html"> M363: SCARA Psi-B </a></li> <li><a href="/docs/gcode/M364.html"> M364: SCARA Psi-C </a></li> <li><a href="/docs/gcode/M380.html"> M380: Activate Solenoid </a></li> <li><a href="/docs/gcode/M381.html"> M381: Deactivate Solenoids </a></li> <li><a href="/docs/gcode/M400.html"> M400: Finish Moves </a></li> <li><a href="/docs/gcode/M401.html"> M401: Deploy Probe </a></li> <li><a href="/docs/gcode/M402.html"> M402: Stow Probe </a></li> <li><a href="/docs/gcode/M404.html"> M404: Set Filament Diameter </a></li> <li><a href="/docs/gcode/M405.html"> M405: Filament Width Sensor On </a></li> <li><a href="/docs/gcode/M406.html"> M406: Filament Width Sensor Off </a></li> <li><a href="/docs/gcode/M407.html"> M407: Filament Width </a></li> <li><a href="/docs/gcode/M410.html"> M410: Quickstop </a></li> <li><a href="/docs/gcode/M420.html"> M420: Bed Leveling State </a></li> <li><a href="/docs/gcode/M421.html"> M421: Set Mesh Value </a></li> <li><a href="/docs/gcode/M428.html"> M428: Home Offsets Here </a></li> <li><a href="/docs/gcode/M500.html"> M500: Save Settings </a></li> <li><a href="/docs/gcode/M501.html"> M501: Restore Settings </a></li> <li><a href="/docs/gcode/M502.html"> M502: Factory Reset </a></li> <li><a href="/docs/gcode/M503.html"> M503: Report Settings </a></li> <li><a href="/docs/gcode/M540.html"> M540: Endstops Abort SD </a></li> <li><a href="/docs/gcode/M600.html"> M600: Filament Change </a></li> <li><a href="/docs/gcode/M605.html"> M605: Dual Nozzle Mode </a></li> <li><a href="/docs/gcode/M665.html"> M665: Delta Configuration </a></li> <li><a href="/docs/gcode/M666.html"> M666: Coming Soon </a></li> <li><a href="/docs/gcode/M851.html"> M851: Z Probe Offset </a></li> <li><a href="/docs/gcode/M852.html"> M852: Bed Skew Compensation </a></li> <li><a href="/docs/gcode/M900.html"> M900: Linear Advance Factors </a></li> <li><a href="/docs/gcode/M906.html"> M906: TMC Motor Current </a></li> <li><a href="/docs/gcode/M907.html"> M907: Set Motor Current </a></li> <li><a href="/docs/gcode/M908.html"> M908: Set Trimpot Pins </a></li> <li><a href="/docs/gcode/M909.html"> M909: DAC Print Values </a></li> <li><a href="/docs/gcode/M910.html"> M910: Commit DAC to EEPROM </a></li> <li><a href="/docs/gcode/M911.html"> M911: TMC OT Pre-Warn Condition </a></li> <li><a href="/docs/gcode/M912.html"> M912: Clear TMC OT Pre-Warn </a></li> <li><a href="/docs/gcode/M913.html"> M913: Set Hybrid Threshold Speed </a></li> <li><a href="/docs/gcode/M914.html"> M914: TMC Bump Sensitivity </a></li> <li><a href="/docs/gcode/M915.html"> M915: TMC Z axis calibration </a></li> <li><a href="/docs/gcode/M928.html"> M928: Start SD Logging </a></li> <li><a href="/docs/gcode/M999.html"> M999: STOP Restart </a></li> </ul> </li> <li class="dropdown-submenu features"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Marlin Features</a> <ul class="dropdown-menu"> <li><a href="/meta/features/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/features/auto_bed_leveling.html"> Automatic Bed Leveling </a></li> <li><a href="/docs/features/fwretract.html"> Firmware Retract </a></li> <li><a href="/docs/features/lin_advance.html"> Linear Advance </a></li> <li><a href="/docs/features/tmc_drivers.html"> Trinamic drivers </a></li> <li><a href="/docs/features/unified_bed_leveling.html"> Unified Bed Leveling </a></li> <li class="divider"> </li> <li><a href="/docs/features/lcd_menu.html"> LCD Menu Tree </a></li> </ul> </li> <li class="divider"> </li> <li><a href="/meta/needs-review/"> Documentation Needing Review </a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-tools"> Tools <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="/tools/u8glib/converter.html"> Bitmap Converter </a></li> <li><a href="/tools/lin_advance/k-factor.html"> K-Factor Calibration Pattern </a></li> <li class="divider"> </li> <li><a href="https://github.com/MarlinFirmware/Marlin/issues"> Bugtracker </a></li> <li><a href="/docs/basics/reporting_bugs.html"> Reporting bugs </a></li> <li class="divider"> </li> <li><a href="https://github.com/MarlinFirmware/Marlin"> Source Code Repository </a></li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right visible-lg-block"> <li><a href="https://github.com/MarlinFirmware/MarlinDocumentation/edit/master/_basics/install_arm.md" data-proofer-ignore> <i class="fa fa-pencil-square-o" aria-hidden="true"></i> <span>Improve this page</span> </a></li> </ul> </div> </div> </nav> <div class="container" role="main"> <div class="row"> <div class="col-lg-3 col-md-4 visible-lg-block visible-md-block custom-no-padding"> <div class="custom-fixed-sidebar"> <div id="toc"></div> </div> </div> <div class="col-lg-9 col-md-8 custom-bg-white"> <div class="row"> <div class="col-md-12 custom-article"> <p class="text-right pull-right visible-lg-block hidden-print small custom-pt25"> <a href="https://github.com/ModMike" data-toggle="tooltip" data-placement="bottom" title="Visit ModMike's profile on Github"><img class="avatar avatar-small" src="https://avatars2.githubusercontent.com/ModMike?v=3&amp;s=30" alt="ModMike" srcset="https://avatars2.githubusercontent.com/ModMike?v=3&amp;s=30 1x, https://avatars2.githubusercontent.com/ModMike?v=3&amp;s=60 2x, https://avatars2.githubusercontent.com/ModMike?v=3&amp;s=90 3x, https://avatars2.githubusercontent.com/ModMike?v=3&amp;s=120 4x" width="30" height="30" data-proofer-ignore="true"></a> <a href="https://github.com/thinkyhead" data-toggle="tooltip" data-placement="bottom" title="Visit thinkyhead's profile on Github"><img class="avatar avatar-small" src="https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=30" alt="thinkyhead" srcset="https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=30 1x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=60 2x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=90 3x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=120 4x" width="30" height="30" data-proofer-ignore="true"></a> </p> <h1 class="custom-article-header">Installing Marlin 2.0 with PlatformIO</h1> <hr> <p>This page describes the process of installing Marlin 2.x onto the Re-Arm (LPC1768-based) board.</p> <p>While this procedure specifically targets the Re-Arm board, it can apply to any Marlin HAL-compatible controller with an onboard bootable SD card. (Notes for “other boards” are included where needed.) These instructions are OS-agnostic. The term “File Browser” refers to both the macOS Finder and Windows Explorer.</p> <p>To increase your chances of success, start out with the default Marlin configuration files. Except as directed, don’t modify <code class="highlighter-rouge">Configuration.h</code> or <code class="highlighter-rouge">Configuration_adv.h</code> until you’ve achieved a successful build, upload, and test using the base configuration.</p> <h1 id="prepare">Prepare</h1> <h2 id="before-you-begin">Before you begin</h2> <p><strong><em>DO NOT attach your RAMPS Board yet!</em></strong> If the RAMPS is currently installed on the Re-Arm board, we recommend you remove it before proceeding. Once you’ve validated the installation and made sure everything works then the RAMPS can be attached for <a href="#the-main-event">the main event</a>!</p> <h2 id="format-an-sd-card-for-re-arm">Format an SD Card for Re-Arm</h2> <p><strong>Follow this procedure exactly!</strong> An improperly-formatted card may seem to be working but the board will not be able to write the required <code class="highlighter-rouge">FIRMWARE.CUR</code> file. This can (and does) cause a lot of frustration.</p> <p>On 32-bit boards the onboard SD card is used to store to the board’s operating system (in this case, Marlin Firmware) and data. It cannot be used to store G-code for printing. For SD card printing you must use a separate SD card reader in a dedicated unit, such as an LCD controller.</p> <p><strong>Important:</strong> If your SD card is larger than 32GB, <em>it must be partitioned</em> so that the first partion is no larger than 32GB. The other partitions don’t matter. Please refer to your system’s tools or do a web search for “partition SD card.”</p> <ol> <li> <p>Format a 32GB SD card as FAT32 and name it “<code class="highlighter-rouge">rearm</code>”.</p> </li> <li> <p>Insert the card into the Re-Arm’s onboard SD card slot.</p> </li> <li> <p>Locate the red jumper on the Re-Arm board next to the reset switch. Move the jumper to the ‘USB’ (right) position so the board will be powered from the USB port.</p> </li> <li> <p>Connect the board to the computer using a USB cable.</p> </li> </ol> <p>If all is well an SD card volume named “<code class="highlighter-rouge">rearm</code>” will appear on your Desktop (and/or the file browser).</p> <p><em>If you’ve given the card a different name or if it uses a different system, you will need to know the exact logical path to the drive. Don’t worry about this for now. It will be described in the <strong><a href="#build-marlin">Build Marlin</a></strong> section below.</em></p> <h2 id="install-platformio">Install PlatformIO</h2> <p>The PlatformIO IDE is distributed as a plugin for Google’s <strong><em>Atom</em></strong> and Microsoft’s <strong>Visual Studio Code</strong> (aka <strong><em>VSCode</em></strong>). Both editors have a robust plugin architecture that allows them to become full-featured integrated development environments (IDEs) for PlatformIO. Instructions for installation are at the following links:</p> <ul> <li><a href="http://docs.platformio.org/en/latest/ide/atom.html#installation">Installing PlatformIO IDE in <strong><em>Atom</em></strong></a></li> <li> <a href="http://docs.platformio.org/en/latest/ide/vscode.html#installation">Installing PlatformIO IDE in <strong><em>VSCode</em></strong></a>.</li> </ul> <h2 id="download-marlin-20">Download Marlin 2.0</h2> <ol> <li> <p>Download the <a href="https://github.com/MarlinFirmware/Marlin/archive/bugfix-2.0.x.zip">Marlin 2.0 “bugfix” version</a> which includes support for ARM-based boards.</p> </li> <li> <p>Move the <code class="highlighter-rouge">bugfix-2.0.x.zip</code> file to your “Documents” folder (or wherever you prefer) and expand the ZIP archive as you usually do.</p> </li> <li> <p>Rename the folder to “<code class="highlighter-rouge">MarlinFirmware</code>” so we’re all on the same page here.</p> </li> </ol> <p><em>Pro Tip: If you’re using <strong>GitHub Desktop</strong> to manage your own Marlin fork, simply activate the <code class="highlighter-rouge">bugfix-2.0.x</code> branch.</em></p> <h2 id="open-marlin-in-platformio-ide">Open Marlin in PlatformIO IDE</h2> <ol> <li> <p>At this point you may already have the project editor running. If not, go ahead and launch <strong><em>Atom</em></strong> or <strong><em>VSCode</em></strong>.</p> </li> <li> <p>The “<strong>PlatformIO Home</strong>” page should appear. If not, click on the <strong>Home</strong> icon located in the top-left corner (<strong><em>Atom</em></strong>) or the bottom status bar (<strong><em>VSCode</em></strong>).</p> </li> <li> <p>Click the “<strong>Open Project</strong>” button under “<strong>Quick Access</strong>.”</p> </li> <li> <p>In the file dialog, navigate to the <code class="highlighter-rouge">MarlinFirmware</code> folder you created earlier, highlight it, and click the “<strong>Open</strong>” button. The project folder and its contents should appear in the Project navigator on the left side.</p> </li> </ol> <h2 id="get-the-sd-card-device-path">Get the SD card device path</h2> <p>It is critical to have the correct path to your device. This procedure covers both logical devices and/or upload ports. The easiest way to do that is from the <strong>PlatformIO Home</strong> (<strong>PIO Home</strong>) page.</p> <p>Be sure that your board is connected and its volume is visible in the file browser sidebar and/or desktop. If it’s a device port only, make sure that the system detected it.</p> <ol> <li> <p>Click on the <strong>Devices</strong> icon on the left side of the PlatformIO Home page.</p> </li> <li> <p>A new pane will open with three tabs labeled <strong>Serial</strong>, <strong>Logical</strong>, and <strong>Multicast DNS</strong>.</p> </li> <li> <p>If the serial device is properly connected, it will appear in the <strong>Port</strong> list under the <strong>Serial</strong> tab.</p> </li> </ol> <p>For a “Logical” drive (e.g., Re-Arm and most 32-bit boards) click on the <strong>Logical</strong> tab to list all devices. You should see the <code class="highlighter-rouge">rearm</code> SD card and possibly some other mounted volumes.</p> <ol> <li>Once you’ve identified the correct Serial port or Logical drive, click on the little blue page icon next to the item you want to use. This will copy its path to the clipboard. We recommend pasting the path into a new text file (<code class="highlighter-rouge">Ctrl-N</code> or <code class="highlighter-rouge">Cmd-N</code>) for later use.</li> </ol> <h2 id="set-default-environment-optional">Set Default Environment (optional)</h2> <p>This part is optional, but it makes it easier to build for Re-Arm going forward. If you prefer to skip this section, scroll down to the next step, <a href="#prepare-configurationh">Prepare Configuration</a>.</p> <ol> <li> <p>Under project on the left, find the <code class="highlighter-rouge">platform.ini</code> file and click on it to open it in the editor. Find the line starting with <code class="highlighter-rouge">env_default</code> and change the line to:</p> <div class="language-ini highlighter-rouge"> <pre class="highlight"><code> <span class="py">env_default</span> <span class="p">=</span> <span class="s">LPC1768</span>
</code></pre> </div> </li> <li> <p>In <code class="highlighter-rouge">platform.ini</code> locate the section that starts with <code class="highlighter-rouge">[env:LPC1768]</code>. Anywhere within this block of lines, insert the following line:</p> <div class="language-ini highlighter-rouge"> <pre class="highlight"><code> <span class="py">upload_port</span> <span class="p">=</span> <span class="s">/Volumes/REARM</span>
</code></pre> </div> <p>(Assuming you’ve named the SD card “<code class="highlighter-rouge">rearm</code>”.)</p> </li> <li> <p>Save the file.</p> </li> </ol> <h3 id="for-other-boards">For other boards…</h3> <ol> <li> <p>Under project on the left, find the <code class="highlighter-rouge">platform.ini</code> file and click on it to open it in the editor. Find the line starting with <code class="highlighter-rouge">env_default</code> and change the line to:</p> <div class="language-ini highlighter-rouge"> <pre class="highlight"><code> <span class="py">env_default</span> <span class="p">=</span> <span class="s">name-of-your-env</span>
</code></pre> </div> </li> <li> <p>Same as Step 2 above, but use the name of the SD card you set for your alternate board.</p> <div class="language-ini highlighter-rouge"> <pre class="highlight"><code> <span class="py">upload_port</span> <span class="p">=</span> <span class="s">path-or-port-copied-from-devices</span>
</code></pre> </div> </li> <li> <p>Save the file.</p> </li> </ol> <h1 id="prepare-configurationh">Prepare <code class="highlighter-rouge">Configuration.h</code> </h1> <ol> <li> <p>Close the <strong>Platform IO Home</strong> (or <strong>PIO Home</strong>) tab.</p> </li> <li> <p>From the project pane on the left, locate the <strong>Marlin</strong> folder and click on it to disclose its contents. Click on <code class="highlighter-rouge">Configuration.h</code> to open it in a new tab.</p> </li> <li> <p>Find the <code class="highlighter-rouge">MOTHERBOARD</code> setting and change it to the following for Re-ARM:</p> <div class="highlighter-rouge"> <pre class="highlight"><code> #define MOTHERBOARD BOARD_RAMPS_14_RE_ARM_EFB
</code></pre> </div> </li> <li> <p>Save the file.</p> </li> </ol> <p>The “EFB” acronym in the board name refers to <em>Extruder</em>, <em>Fan</em>, and <em>Bed</em>. This defines the order that these components should be connected to the <code class="highlighter-rouge">D10</code>, <code class="highlighter-rouge">D9</code>, and <code class="highlighter-rouge">D8</code> power outputs on the board. (EFB is the most common layout.)</p> <h2 id="for-other-boards-1">For other boards…</h2> <ol> <li> <p>From the project pane on the left, open the folders <code class="highlighter-rouge">Marlin</code> &gt; <code class="highlighter-rouge">src</code> &gt; <code class="highlighter-rouge">core</code> and click on the <code class="highlighter-rouge">boards.h</code> file.</p> </li> <li> <p>Use the <strong>Find</strong> command or scroll down to locate the entry for your board. (e.g., <code class="highlighter-rouge">BOARD_AZTEEG_X5_GT</code>)</p> </li> <li> <p>As above, set <code class="highlighter-rouge">MOTHERBOARD</code> to the name of your board.</p> <div class="highlighter-rouge"> <pre class="highlight"><code> #define MOTHERBOARD BOARD_AZTEEG_X5_GT
</code></pre> </div> </li> <li> <p>Save the file.</p> </li> </ol> <h1 id="build-marlin">Build Marlin</h1> <ol> <li> <p>Click on <strong>PIO Build</strong> in the bottom left (<strong><em>Atom</em></strong>) or choose <strong>Run Build Task…</strong> from the <strong>Tasks</strong> menu (<strong><em>VSCode</em></strong>) to bring up the dialog.</p> </li> <li> <p>If you set the <a href="#set-default-environment-optional">default environment</a> earlier, simply select “<strong>PIO Build</strong>” from the list. If you skipped that step, you’ll need to scroll down and select “<strong>PIO Build (LPC1768)</strong>”. (You can also type out “LPC17…”, use the arrow keys, and press return.)</p> </li> <li> <p>The build window will open and Marlin will be compiled. (This may take a minute or two.) If the build is successful, the window will close and the <code class="highlighter-rouge">firmware.bin</code> file will be saved in the <code class="highlighter-rouge">.pioenvs/LPC1768</code> folder.</p> </li> </ol> <h3 id="for-other-boards-2">For other boards…</h3> <p>You probably guessed that you would have to scroll to and pick “PIO Build your env_name”. BUT if you did the optional step, you get to pick “PIO Build”!</p> <h1 id="upload-marlin">Upload Marlin</h1> <h2 id="method-1---preferred">Method 1 - Preferred</h2> <ol> <li> <p>Click on <strong>PIO Build</strong> in the bottom left (<strong><em>Atom</em></strong>) or choose <strong>Run Task</strong> from the Tasks menu (<strong><em>VSCode</em></strong>) to bring up the dialog.</p> </li> <li> <p>If you set the <a href="#set-default-environment-optional">default environment</a> earlier, simply select “<strong>PIO Upload</strong>” from the list. If you skipped that step, you’ll need to scroll down and select “<strong>PIO Upload (LPC1768)</strong>”. (You can also type out “LPC17…”, use the arrow keys, and press return.)</p> </li> <li> <p>Wait while Marlin is compiled and uploaded. (This may take a few minutes.)</p> </li> </ol> <h2 id="method-2">Method 2</h2> <p>If there is a properly formatted SD card in your Re-Arm board and the board is powered on, you should see it on the desktop and in the file browser. You don’t need to remove the card from the Re-Arm and insert it into your computer, although that works too.</p> <p>Note that this method requires accessing a hidden directory containing the <code class="highlighter-rouge">firmware.bin</code> file. Both Windows Explorer and the macOS Finder have a “Go to folder…” command that can be used to open hidden folders, and that’s how we’ll do this part.</p> <ol> <li>Using Windows Explorer or macOS Finder, navigate to your <code class="highlighter-rouge">MarlinFirmware</code>folder. All the visible files and folders, such as <code class="highlighter-rouge">Marlin</code> and <code class="highlighter-rouge">frameworks</code> will be shown. <ul> <li>For Windows use Ctrl-D to select the address bar and add <code class="highlighter-rouge">/.pioenvs</code> to the end of the path. Press Return to open the hidden folder.</li> <li>On macOS select <strong>Go to Folder…</strong> from the <strong>Go</strong> menu. Type <code class="highlighter-rouge">.pioenvs</code> and press Return to open the hidden folder.</li> </ul> </li> <li> <p>Open the <code class="highlighter-rouge">LPC1768</code> folder.</p> </li> <li>Copy the <code class="highlighter-rouge">firmware.bin</code> file to the “<code class="highlighter-rouge">rearm</code>” SD card.</li> </ol> <h1 id="finalize">Finalize</h1> <ol> <li> <p>Push the reset button on the Re-Arm board to register your new build.</p> </li> <li> <p>Wait until the SD card named “<code class="highlighter-rouge">rearm</code>” reappears on your desktop and use the file browser to open the card and verify that the <code class="highlighter-rouge">FIRMWARE.CUR</code> and <code class="highlighter-rouge">eprom.dat</code> files were created.</p> </li> </ol> <p>If you don’t see these files, you’ll need to do a hard reset by unplugging the USB cable, counting to 10, and plugging the USB cable back in.</p> <p>If you you see the files but still have issues, simply delete the files, empty the Recycle Bin (or Trash) and power-cycle the controller.</p> <h2 id="test-the-install">Test the install</h2> <p>You should now be able to communicate with Marlin and send commands using your favorite host software such as <strong><em>Simplify3D</em></strong>, <strong><em>OctoPrint</em></strong>, <strong><em>Pronterface</em></strong>, <strong><em>Repetier Host</em></strong>, or the <strong><em>Arduino</em></strong> serial monitor.</p> <p><em>Tip: When doing consecutive builds, it’s always good practice to check the date and time of the files to make sure the Re-Arm processed them.</em></p> <h1 id="custom-configuration">Custom configuration</h1> <p>For the first test build you should have used the default <code class="highlighter-rouge">Configuration.h</code> and <code class="highlighter-rouge">Configuration_adv.h</code> files. Now it’s time to test your own configurations.</p> <p>We strongly suggest rebuilding your configs using one of the included example configs located in the <strong>Marlin/src/config/examples</strong> folder as a starting-point by first copying the appropriate files into the <code class="highlighter-rouge">MarlinFirmware/Marlin</code> folder. For much of this process, you can use the File Compare feature of <strong><em>Atom</em></strong> or <strong><em>VSCode</em></strong>. Note that this won’t help with any renamed or moved items.</p> <p>If you absolutely must port your existing configuration options from Marlin 1.1.x, you’ll need to make a few changes. Some of the more common changes are detailed below.</p> <ol> <li> <p>Start by copying your old <code class="highlighter-rouge">Configuration.h</code> and <code class="highlighter-rouge">Configuration_adv.h</code> files to the <code class="highlighter-rouge">MarlinFirmware/Marlin</code> folder, replacing the existing files. (Don’t worry. Copies of these files are also located in <code class="highlighter-rouge">config/default</code>.)</p> </li> <li> <p>From <strong><em>Atom</em></strong> or <strong><em>VSCode</em></strong>, open the <code class="highlighter-rouge">Configuration.h</code> file and change the configuration version number line to:</p> <div class="highlighter-rouge"> <pre class="highlight"><code> #define CONFIGURATION_H_VERSION 020000
</code></pre> </div> </li> <li> <p>Find the <code class="highlighter-rouge">SERIAL_PORT</code> options and define them as shown here. You can copy and paste the text below if needed.</p> <div class="highlighter-rouge"> <pre class="highlight"><code> #define SERIAL_PORT 0

 /**
  * Select a secondary serial port on the board to use for communication with the host.
  * This allows the connection of wireless adapters (for instance) to non-default port pins.
  * Serial port -1 is the USB emulated serial port, if available.
  *
  * :[-1, 0, 1, 2, 3, 4, 5, 6, 7]
  */
 #define SERIAL_PORT_2 -1

 /**
  * This setting determines the communication speed of the printer.
  *
  * 250000 works in most cases, but you might try a lower speed if
  * you commonly experience drop-outs during host printing.
  * You may try up to 1000000 to speed up SD file transfer.
  *
  * :[2400, 9600, 19200, 38400, 57600, 115200, 250000, 500000, 1000000]
  */
 #define BAUDRATE 250000
</code></pre> </div> </li> <li> <p>As before, set <code class="highlighter-rouge">MOTHERBOARD</code> to the appropriate item from <code class="highlighter-rouge">boards.h</code>.</p> <div class="highlighter-rouge"> <pre class="highlight"><code> #define MOTHERBOARD BOARD_RAMPS_14_RE_ARM_EFB
</code></pre> </div> </li> <li> <p>Find <code class="highlighter-rouge">ENDSTOP_INTERRUPTS_FEATURE</code> and disable it by commenting it out.</p> <div class="highlighter-rouge"> <pre class="highlight"><code> //#define ENDSTOP_INTERRUPTS_FEATURE
</code></pre> </div> <p><strong><em>Note: As of this writing, endstop interrupts are not fully implemented. They are used to save CPU cycles but ARM processors have plenty of overhead so this isn’t a concern.</em></strong></p> </li> <li> <p>You may or may not need to disable the piezo speaker.</p> <div class="highlighter-rouge"> <pre class="highlight"><code> //#define SPEAKER
</code></pre> </div> </li> </ol> <h1 id="troubleshooting">Troubleshooting</h1> <p>If you have issues building, pay close attention to the error messages. Marlin offers guidance on options whose names or values need to be changed to comply with Marlin 2.0. If you get unusual errors, be sure to <a href="https://github.com/MarlinFirmware/Marlin/issues/new">report them</a> to the Marlin project on GitHub.</p> <p>If you get a lot of confusing build errors (and not very helpful ones) you may want to build a configuration by hand starting with the example files.</p> <p><em>You can use any file comparison (“diff”) tool (<strong>Atom</strong>, <strong>VSCode</strong>, <strong>Notepad++</strong>, or even <strong>GitHub Desktop</strong>) to compare your custom configurations to the original configurations from Marlin 1.1.x to see only the options you changed.</em></p> <h1 id="the-main-event">The main event!</h1> <p>All of Re-Arm’s logic pins are 3.3V, but all pins (except analog!) are 5V tolerant, so there’s no reason to worry about voltage-divided induction sensor signal voltages or other 5V devices you may be using.</p> <ol> <li> <p>Connect using your host terminal to check that the board is working. Start by sending an <code class="highlighter-rouge">M119</code> to get a report of the endstops, and try <code class="highlighter-rouge">M500</code> to initialize the <code class="highlighter-rouge">eprom.dat</code> file.</p> </li> <li> <p>Unplug the USB cable from the board.</p> </li> <li> <p>Locate the red jumper on the Re-Arm board, next to the reset switch. Move the jumper to the ‘INT’ (left) position so the board will be powered by the internal power.</p> </li> <li> <p>Assemble your RAMPS sandwich.</p> </li> <li> <p>Plug in USB.</p> </li> <li> <p>Connect a power source (12V up to 24V).</p> </li> </ol> <p><em>The Re-Arm board is meant to be 24V-capable, so if your RAMPS is up to it, you can boost the voltage for more torque and faster heating. There’s no need to cut the diode or use a separate power supply (or so they say). We’ll have more to report as we do more testing with this board!</em></p> <h1 id="good-luck">Good luck!</h1> </div> </div> </div> </div> </div> <footer> <div class="container"> <div class="row"> <div class="col-lg-12"> <hr> </div> </div> <div class="row"> <div class="col-lg-8"> <p>Brought to you with <i class="fa fa-heart text-danger" aria-hidden="true"></i> lack of <i class="fa fa-bed" aria-hidden="true"></i> and lots of <i class="fa fa-coffee" aria-hidden="true"></i>. <br> The contents of this website are © 2018 under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a> License.</p> </div> <div class="col-lg-4"> <div class="pull-right"> <a href="#top" data-proofer-ignore> Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a> </div> </div> </div> </div> </footer> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76230130-1', {
          'cookieDomain': 'marlinfw.org',
          'siteSpeedSampleRate': 80
      });

      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script> </body> </html>