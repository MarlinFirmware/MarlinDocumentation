<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Marlin Github Scripts | Marlin Firmware</title> <meta property="og:title" content="Marlin Github Scripts"> <meta name="author" content="thinkyhead"> <meta property="og:locale" content="en_US"> <meta name="description" content="Helper scripts to ease and speed Marlin development."> <meta property="og:description" content="Helper scripts to ease and speed Marlin development."> <link rel="canonical" href="http://marlinfw.org/docs/development/git_scripts.html"> <meta property="og:url" content="http://marlinfw.org/docs/development/git_scripts.html"> <meta property="og:site_name" content="Marlin Firmware"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2018-10-14T05:07:46+01:00"> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@MarlinFirmware"> <meta name="twitter:creator" content="@thinkyhead"> <script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Marlin Github Scripts","author":{"@type":"Person","name":"thinkyhead"},"datePublished":"2018-10-14T05:07:46+01:00","dateModified":"2018-10-14T05:07:46+01:00","description":"Helper scripts to ease and speed Marlin development.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://marlinfw.org/assets/images/logo/marlin/small.png"},"name":"thinkyhead"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://marlinfw.org/docs/development/git_scripts.html"},"url":"http://marlinfw.org/docs/development/git_scripts.html"}</script> <link rel="icon" href="/assets/favicon.ico"> <link rel="stylesheet" href="/assets/stylesheets/main.css"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> <script src="/assets/javascript/head.min.js"></script> <script type="text/javascript">
      /**
       * As Github pages do not support https for custom domains
       * this is the current best workaround for #18.
       */
      var domains  = ['marlinfw.org', 'localhost', '127.0.0.1' ];
      var pathname = location.pathname.replace(/^\/MarlinDocumentation/, '')
      if (domains.indexOf(window.location.hostname) == -1)
          window.top.location.href = 'http://marlinfw.org' + pathname;

      /**
       * Another ugly workaround trying to improve UX reported by #35
       */
       if (location.protocol != 'http:')
           location.href = 'http:' + window.location.href.substring(window.location.protocol.length);

      /**
       * Improves overall speed by loading javascript and css resources in parallel
       * with the main page.
       */
      head.load(
          "/assets/stylesheets/font-awesome.min.css",

          "/assets/javascript/jquery-2.2.1.min.js",
          "/assets/javascript/jquery-ui.min.js",
          "/assets/javascript/bootstrap.min.js",
          "/assets/javascript/tocify.min.js",
          "/assets/javascript/custom.js",

          "/assets/javascript/sheetrock.min.js",
          "/assets/javascript/cookieconsent.min.js"
      );

      head.ready(function() {
        window.cookieconsent_options = {
          "message":"We use cookies to ensure you get the best experience on our website",
          "dismiss": "Got it!", "learnMore": "More info", "link":"", "theme": "dark-bottom"
        };
      });
    </script> </head> <body role="document"> <nav class="navbar navbar-default navbar-fixed-top custom-no-margin"> <div class="container"> <div class="navbar-header"> <a href="/" class="navbar-brand"> <img src="/assets/images/logo/marlin/text-25.png" alt="Marlin"> </a> <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <div class="navbar-collapse collapse" id="navbar-main"> <ul class="nav navbar-nav"> <li><a href="/docs/basics/introduction.html">About Marlin</a></li> <li><a href="/meta/download/">Download</a></li> <li><a href="/docs/configuration/configuration.html">Configure</a></li> <li><a href="/docs/basics/install.html">Install</a></li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-tools">Tools <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="/tools/u8glib/converter.html">Bitmap Converter</a></li> <li><a href="/tools/lin_advance/k-factor.html">K-Factor Calibration Pattern</a></li> <li class="divider"> </li> <li><a href="https://github.com/MarlinFirmware/Marlin/issues">Bugtracker</a></li> <li><a href="/docs/basics/reporting_bugs.html">Reporting bugs</a></li> <li class="divider"> </li> <li><a href="https://github.com/MarlinFirmware/Marlin">Source Code Repository</a></li> </ul> </li> <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation">Documentation <span class="caret"></span></a> <ul class="dropdown-menu"> <li class="dropdown-submenu configuration"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Configuration</a> <ul class="dropdown-menu"> <li><a href="/meta/configuration/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/configuration/configuration.html"> Configuring Marlin 1.1 </a></li> <li><a href="/docs/configuration/laser_spindle.html"> Laser/Spindle Configuration </a></li> <li><a href="/docs/configuration/probes.html"> Probe Configuration </a></li> </ul> </li> <li class="dropdown-submenu development"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development</a> <ul class="dropdown-menu"> <li><a href="/meta/development/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/development/boards.html"> Boards </a></li> <li class="divider"> </li> <li><a href="/docs/development/coding_standards.html"> Coding Standards </a></li> <li><a href="/docs/development/getting_started_pull_requests.html"> Contributing Code with Pull Requests </a></li> <li><a href="/docs/development/git_scripts.html"> Marlin Github Scripts </a></li> <li class="divider"> </li> <li><a href="/docs/development/contributing.html"> Contributing to Marlin </a></li> <li><a href="/docs/development/feature_request.html"> Feature requests </a></li> <li class="divider"> </li> <li><a href="/docs/development/fonts.html"> Adding new fonts </a></li> <li><a href="/docs/development/lcd_language.html"> LCD Language System </a></li> </ul> </li> <li class="dropdown-submenu features"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Features</a> <ul class="dropdown-menu"> <li><a href="/meta/features/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/features/auto_bed_leveling.html"> Automatic Bed Leveling </a></li> <li><a href="/docs/features/unified_bed_leveling.html"> Unified Bed Leveling </a></li> <li class="divider"> </li> <li><a href="/docs/features/fwretract.html"> Firmware Retract </a></li> <li><a href="/docs/features/lin_advance.html"> Linear Advance </a></li> <li><a href="/docs/features/tmc_drivers.html"> Trinamic drivers </a></li> <li class="divider"> </li> <li><a href="/docs/features/lcd_menu.html"> LCD Menu Tree </a></li> </ul> </li> <li class="dropdown-submenu gcode"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">G-code</a> <ul class="dropdown-menu"> <li><a href="/meta/gcode/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/gcode/G000-G001.html"> G0-G1: Linear Move </a></li> <li><a href="/docs/gcode/G002-G003.html"> G2-G3: Controlled Arc Move </a></li> <li><a href="/docs/gcode/G004.html"> G4: Dwell </a></li> <li><a href="/docs/gcode/G005.html"> G5: Bézier cubic spline </a></li> <li><a href="/docs/gcode/G010.html"> G10: Retract </a></li> <li><a href="/docs/gcode/G011.html"> G11: Recover </a></li> <li><a href="/docs/gcode/G012.html"> G12: Clean the Nozzle </a></li> <li><a href="/docs/gcode/G020.html"> G20: Inch Units </a></li> <li><a href="/docs/gcode/G021.html"> G21: Millimeter Units </a></li> <li><a href="/docs/gcode/G026.html"> G26: Mesh Validation Pattern </a></li> <li><a href="/docs/gcode/G027.html"> G27: Park the nozzle </a></li> <li><a href="/docs/gcode/G028.html"> G28: Auto Home </a></li> <li><a href="/docs/gcode/G029-mbl.html"> G29: Mesh Bed Leveling </a></li> <li><a href="/docs/gcode/G029-abl.html"> G29: Automatic Bed Leveling </a></li> <li><a href="/docs/gcode/G029-ubl.html"> G29: Unified Bed Leveling </a></li> <li><a href="/docs/gcode/G030.html"> G30: Single Z-Probe </a></li> <li><a href="/docs/gcode/G031.html"> G31: Dock Sled </a></li> <li><a href="/docs/gcode/G032.html"> G32: Undock Sled </a></li> <li><a href="/docs/gcode/G033.html"> G33: Delta Auto Calibration </a></li> <li><a href="/docs/gcode/G038.html"> G38.2-G38.3: Probe target </a></li> <li><a href="/docs/gcode/G042.html"> G42: Move to mesh coordinate </a></li> <li><a href="/docs/gcode/G090.html"> G90: Absolute Positioning </a></li> <li><a href="/docs/gcode/G091.html"> G91: Relative Positioning </a></li> <li><a href="/docs/gcode/G092.html"> G92: Set Position </a></li> <li><a href="/docs/gcode/M000-M001.html"> M0-M1: Unconditional stop </a></li> <li><a href="/docs/gcode/M003.html"> M3: Spindle CW / Laser On </a></li> <li><a href="/docs/gcode/M004.html"> M4: Spindle CCW / Laser On </a></li> <li><a href="/docs/gcode/M005.html"> M5: Spindle / Laser Off </a></li> <li><a href="/docs/gcode/M017.html"> M17: Enable Steppers </a></li> <li><a href="/docs/gcode/M018.html"> M18-M84: Disable steppers </a></li> <li><a href="/docs/gcode/M020.html"> M20: List SD Card </a></li> <li><a href="/docs/gcode/M021.html"> M21: Init SD card </a></li> <li><a href="/docs/gcode/M022.html"> M22: Release SD card </a></li> <li><a href="/docs/gcode/M023.html"> M23: Select SD file </a></li> <li><a href="/docs/gcode/M024.html"> M24: Start or Resume SD print </a></li> <li><a href="/docs/gcode/M025.html"> M25: Pause SD print </a></li> <li><a href="/docs/gcode/M026.html"> M26: Set SD position </a></li> <li><a href="/docs/gcode/M027.html"> M27: Report SD print status </a></li> <li><a href="/docs/gcode/M028.html"> M28: Start SD write </a></li> <li><a href="/docs/gcode/M029.html"> M29: Stop SD write </a></li> <li><a href="/docs/gcode/M030.html"> M30: Delete SD file </a></li> <li><a href="/docs/gcode/M031.html"> M31: Print time </a></li> <li><a href="/docs/gcode/M032.html"> M32: Select and Start </a></li> <li><a href="/docs/gcode/M033.html"> M33: Get Long Path </a></li> <li><a href="/docs/gcode/M034.html"> M34: SDCard Sorting </a></li> <li><a href="/docs/gcode/M042.html"> M42: Set Pin State </a></li> <li><a href="/docs/gcode/M043.html"> M43: Debug Pins </a></li> <li><a href="/docs/gcode/M043-T.html"> M43 T: Toggle Details (Debug Pins) </a></li> <li><a href="/docs/gcode/M048.html"> M48: Probe Accuracy Test </a></li> <li><a href="/docs/gcode/M073.html"> M73: Set Print Progress </a></li> <li><a href="/docs/gcode/M075.html"> M75: Start Print Job </a></li> <li><a href="/docs/gcode/M076.html"> M76: Pause Print Job </a></li> <li><a href="/docs/gcode/M077.html"> M77: Stop Print Job </a></li> <li><a href="/docs/gcode/M078.html"> M78: Print Job Stats </a></li> <li><a href="/docs/gcode/M080.html"> M80: Power On </a></li> <li><a href="/docs/gcode/M081.html"> M81: Power Off </a></li> <li><a href="/docs/gcode/M082.html"> M82: E Absolute </a></li> <li><a href="/docs/gcode/M083.html"> M83: E Relative </a></li> <li><a href="/docs/gcode/M085.html"> M85: Inactivity Shutdown </a></li> <li><a href="/docs/gcode/M092.html"> M92: Set Axis Steps-per-unit </a></li> <li><a href="/docs/gcode/M100.html"> M100: Free Memory </a></li> <li><a href="/docs/gcode/M104.html"> M104: Set Hotend Temperature </a></li> <li><a href="/docs/gcode/M105.html"> M105: Report Temperatures </a></li> <li><a href="/docs/gcode/M106.html"> M106: Set Fan Speed </a></li> <li><a href="/docs/gcode/M107.html"> M107: Fan Off </a></li> <li><a href="/docs/gcode/M108.html"> M108: Break and Continue </a></li> <li><a href="/docs/gcode/M109.html"> M109: Wait for Hotend Temperature </a></li> <li><a href="/docs/gcode/M110.html"> M110: Set Line Number </a></li> <li><a href="/docs/gcode/M111.html"> M111: Debug Level </a></li> <li><a href="/docs/gcode/M112.html"> M112: Emergency Stop </a></li> <li><a href="/docs/gcode/M113.html"> M113: Host Keepalive </a></li> <li><a href="/docs/gcode/M114.html"> M114: Get Current Position </a></li> <li><a href="/docs/gcode/M115.html"> M115: Firmware Info </a></li> <li><a href="/docs/gcode/M117.html"> M117: Set LCD Message </a></li> <li><a href="/docs/gcode/M118.html"> M118: Serial print </a></li> <li><a href="/docs/gcode/M119.html"> M119: Endstop States </a></li> <li><a href="/docs/gcode/M120.html"> M120: Enable Endstops </a></li> <li><a href="/docs/gcode/M121.html"> M121: Disable Endstops </a></li> <li><a href="/docs/gcode/M122.html"> M122: TMC Debugging </a></li> <li><a href="/docs/gcode/M125.html"> M125: Park Head </a></li> <li><a href="/docs/gcode/M126.html"> M126: Baricuda 1 Open </a></li> <li><a href="/docs/gcode/M127.html"> M127: Baricuda 1 Close </a></li> <li><a href="/docs/gcode/M128.html"> M128: Baricuda 2 Open </a></li> <li><a href="/docs/gcode/M129.html"> M129: Baricuda 2 Close </a></li> <li><a href="/docs/gcode/M140.html"> M140: Set Bed Temperature </a></li> <li><a href="/docs/gcode/M145.html"> M145: Set Material Preset </a></li> <li><a href="/docs/gcode/M149.html"> M149: Set Temperature Units </a></li> <li><a href="/docs/gcode/M150.html"> M150: Set RGB(W) Color </a></li> <li><a href="/docs/gcode/M155.html"> M155: Temperature Auto-Report </a></li> <li><a href="/docs/gcode/M163.html"> M163: Set Mix Factor </a></li> <li><a href="/docs/gcode/M164.html"> M164: Save Mix </a></li> <li><a href="/docs/gcode/M165.html"> M165: Set Mix </a></li> <li><a href="/docs/gcode/M190.html"> M190: Wait for Bed Temperature </a></li> <li><a href="/docs/gcode/M200.html"> M200: Set Filament Diameter </a></li> <li><a href="/docs/gcode/M201.html"> M201: Set Print Max Acceleration </a></li> <li><a href="/docs/gcode/M203.html"> M203: Set Max Feedrate </a></li> <li><a href="/docs/gcode/M204.html"> M204: Set Starting Acceleration </a></li> <li><a href="/docs/gcode/M205.html"> M205: Set Advanced Settings </a></li> <li><a href="/docs/gcode/M206.html"> M206: Set Home Offsets </a></li> <li><a href="/docs/gcode/M207.html"> M207: Set Firmware Retraction </a></li> <li><a href="/docs/gcode/M208.html"> M208: Set Firmware Recovery </a></li> <li><a href="/docs/gcode/M209.html"> M209: Set Auto Retract </a></li> <li><a href="/docs/gcode/M211.html"> M211: Software Endstops </a></li> <li><a href="/docs/gcode/M217.html"> M217: Filament swap parameters </a></li> <li><a href="/docs/gcode/M218.html"> M218: Set Hotend Offset </a></li> <li><a href="/docs/gcode/M220.html"> M220: Set Feedrate Percentage </a></li> <li><a href="/docs/gcode/M221.html"> M221: Set Flow Percentage </a></li> <li><a href="/docs/gcode/M226.html"> M226: Wait for Pin State </a></li> <li><a href="/docs/gcode/M240.html"> M240: Trigger Camera </a></li> <li><a href="/docs/gcode/M250.html"> M250: LCD Contrast </a></li> <li><a href="/docs/gcode/M260.html"> M260: I2C Send </a></li> <li><a href="/docs/gcode/M261.html"> M261: I2C Request </a></li> <li><a href="/docs/gcode/M280.html"> M280: Servo Position </a></li> <li><a href="/docs/gcode/M290.html"> M290: Babystep </a></li> <li><a href="/docs/gcode/M300.html"> M300: Play Tone </a></li> <li><a href="/docs/gcode/M301.html"> M301: Set Hotend PID </a></li> <li><a href="/docs/gcode/M302.html"> M302: Cold Extrude </a></li> <li><a href="/docs/gcode/M303.html"> M303: PID autotune </a></li> <li><a href="/docs/gcode/M304.html"> M304: Set Bed PID </a></li> <li><a href="/docs/gcode/M350.html"> M350: Set micro-stepping </a></li> <li><a href="/docs/gcode/M351.html"> M351: Set Microstep Pins </a></li> <li><a href="/docs/gcode/M355.html"> M355: Case Light Control </a></li> <li><a href="/docs/gcode/M360.html"> M360: SCARA Theta A </a></li> <li><a href="/docs/gcode/M361.html"> M361: SCARA Theta-B </a></li> <li><a href="/docs/gcode/M362.html"> M362: SCARA Psi-A </a></li> <li><a href="/docs/gcode/M363.html"> M363: SCARA Psi-B </a></li> <li><a href="/docs/gcode/M364.html"> M364: SCARA Psi-C </a></li> <li><a href="/docs/gcode/M380.html"> M380: Activate Solenoid </a></li> <li><a href="/docs/gcode/M381.html"> M381: Deactivate Solenoids </a></li> <li><a href="/docs/gcode/M400.html"> M400: Finish Moves </a></li> <li><a href="/docs/gcode/M401.html"> M401: Deploy Probe </a></li> <li><a href="/docs/gcode/M402.html"> M402: Stow Probe </a></li> <li><a href="/docs/gcode/M404.html"> M404: Set Filament Diameter </a></li> <li><a href="/docs/gcode/M405.html"> M405: Filament Width Sensor On </a></li> <li><a href="/docs/gcode/M406.html"> M406: Filament Width Sensor Off </a></li> <li><a href="/docs/gcode/M407.html"> M407: Filament Width </a></li> <li><a href="/docs/gcode/M410.html"> M410: Quickstop </a></li> <li><a href="/docs/gcode/M420.html"> M420: Bed Leveling State </a></li> <li><a href="/docs/gcode/M421.html"> M421: Set Mesh Value </a></li> <li><a href="/docs/gcode/M428.html"> M428: Home Offsets Here </a></li> <li><a href="/docs/gcode/M500.html"> M500: Save Settings </a></li> <li><a href="/docs/gcode/M501.html"> M501: Restore Settings </a></li> <li><a href="/docs/gcode/M502.html"> M502: Factory Reset </a></li> <li><a href="/docs/gcode/M503.html"> M503: Report Settings </a></li> <li><a href="/docs/gcode/M504.html"> M504: Validate EEPROM contents </a></li> <li><a href="/docs/gcode/M540.html"> M540: Endstops Abort SD </a></li> <li><a href="/docs/gcode/M600.html"> M600: Filament Change </a></li> <li><a href="/docs/gcode/M603.html"> M603: Configure Filament Change </a></li> <li><a href="/docs/gcode/M605.html"> M605: Dual Nozzle Mode </a></li> <li><a href="/docs/gcode/M665.html"> M665: Delta Configuration </a></li> <li><a href="/docs/gcode/M665-scara.html"> M665: SCARA Configuration </a></li> <li><a href="/docs/gcode/M666.html"> M666: Set Delta endstop adjustments </a></li> <li><a href="/docs/gcode/M666-dual.html"> M666: Set dual endstop offsets </a></li> <li><a href="/docs/gcode/M851.html"> M851: Z Probe Offset </a></li> <li><a href="/docs/gcode/M852.html"> M852: Bed Skew Compensation </a></li> <li><a href="/docs/gcode/M900.html"> M900: Linear Advance Factor </a></li> <li><a href="/docs/gcode/M906.html"> M906: TMC Motor Current </a></li> <li><a href="/docs/gcode/M907.html"> M907: Set Motor Current </a></li> <li><a href="/docs/gcode/M908.html"> M908: Set Trimpot Pins </a></li> <li><a href="/docs/gcode/M909.html"> M909: DAC Print Values </a></li> <li><a href="/docs/gcode/M910.html"> M910: Commit DAC to EEPROM </a></li> <li><a href="/docs/gcode/M911.html"> M911: TMC OT Pre-Warn Condition </a></li> <li><a href="/docs/gcode/M912.html"> M912: Clear TMC OT Pre-Warn </a></li> <li><a href="/docs/gcode/M913.html"> M913: Set Hybrid Threshold Speed </a></li> <li><a href="/docs/gcode/M914.html"> M914: TMC Bump Sensitivity </a></li> <li><a href="/docs/gcode/M915.html"> M915: TMC Z axis calibration </a></li> <li><a href="/docs/gcode/M928.html"> M928: Start SD Logging </a></li> <li><a href="/docs/gcode/M999.html"> M999: STOP Restart </a></li> </ul> </li> <li class="dropdown-submenu hardware"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Hardware</a> <ul class="dropdown-menu"> <li><a href="/meta/hardware/"> All documents </a></li> <li class="divider"> </li> <li><a href="/docs/hardware/boards.html"> Boards </a></li> <li><a href="/docs/hardware/endstops.html"> Endstops </a></li> <li><a href="/docs/hardware/tmc_drivers.html"> Trinamic drivers </a></li> </ul> </li> <li class="divider"> </li> <li><a href="/meta/needs-review/">Documentation Needing Review</a></li> </ul> </li> </ul> <ul class="nav navbar-nav navbar-right visible-lg-block"> <li><a href="https://github.com/MarlinFirmware/MarlinDocumentation/edit/master/_development/git_scripts.md" data-proofer-ignore> <i class="fa fa-pencil-square-o" aria-hidden="true"></i> <span>Improve this page</span> </a></li> </ul> </div> </div> </nav> <div class="container" role="main"> <div class="row"> <div class="col-lg-3 col-md-4 visible-lg-block visible-md-block custom-no-padding"> <div class="custom-fixed-sidebar"> <div id="toc"></div> </div> </div> <div class="col-lg-9 col-md-8 custom-bg-white"> <div class="row"> <div class="col-md-12 custom-article"> <p class="text-right pull-right visible-lg-block hidden-print small custom-pt25"> <a href="https://github.com/thinkyhead" data-toggle="tooltip" data-placement="bottom" title="Visit thinkyhead's profile on Github"><img class="avatar avatar-small" src="https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=30" alt="thinkyhead" srcset="https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=30 1x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=60 2x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=90 3x, https://avatars1.githubusercontent.com/thinkyhead?v=3&amp;s=120 4x" width="30" height="30" data-proofer-ignore="true"></a> </p> <h1 class="custom-article-header">Marlin Github Scripts</h1> <hr> <h2 id="background">Background</h2> <p>Github is a great tool for collaboration. You can cover a lot of ground in a short time, and ideas sometimes come quickly and from many directions at once. Wouldn’t it be great if the pace of deployment could be as fast as you can conceive of new ideas? While we may not be able to turn thought directly into code, we can at least provide some tools to smooth the process.</p> <p>These scripts aim to improve, most especially, the process of managing, patching, and updating active Pull Requests. They don’t rely on any special privileges, but encourage the use of the Pull Request process instead of doing direct commits.</p> <p>Theoretically, a Pull Request should have a very short lifespan. It should be created, polished, and completed before anything else threatens to stomp on the same code lines. But in practice, some PRs take longer than others to develop and the Marlin policy has been to keep them open till they’re ready. This opens up conflict and stale code issues. The longer a PR sits the harder it is to integrate and the less applicable its changes will be. A Marlin PR can sit for weeks or months.</p> <p>By also paying careful attention to conflict resolution, these scripts can help keep a feature or patch branch (i.e., based on <code class="highlighter-rouge">bugfix-1.1.x</code> and forming the basis for a PR) fresh for as long as needed.</p> <h2 id="merge-vs-rebase">Merge vs. Rebase</h2> <p>Working with branches and Pull Requests, you soon find there are some operations you need to do over and over, many of which just can’t be done using the Github Desktop graphical interface. And one thing that becomes clear is that merge commits are highly undesirable on active PRs. If you have a PR that needs conflict resolution Github’s tools work fine to patch it up, but the result is an unsightly new merge commit following your PR commits. Since a PR is a new set of changes yet to be added to the latest code, it’s always best to “rebase” instead of “merge.”</p> <p>These helper scripts are designed for a workflow that uses <code class="highlighter-rouge">git rebase</code> and <code class="highlighter-rouge">git rebase -i</code> exclusively so Pull Request changes always come after the latest merged commits and are therefore relevant to the code at the time of merge.</p> <h2 id="interactive-rebase">Interactive Rebase</h2> <p>During the lifespan of a Pull Request, you’ll commonly want to combine or remove commits. This will be done using an “<strong>interactive rebase</strong>.” All this means is that <code class="highlighter-rouge">git</code> opens up your editor (<code class="highlighter-rouge">vim</code>, <code class="highlighter-rouge">joe</code>, etc.) and you can change the order of commits, rewrite commit messages, drop commits, combine commits together, etc. When you save and close the editor, <code class="highlighter-rouge">git</code> attempts to make the changes.</p> <p>This is one place where conflicts might arise, since <code class="highlighter-rouge">git</code> can’t always decide which changes should supersede others.</p> <h2 id="resolving-conflicts">Resolving Conflicts</h2> <p>Git will tell you if there’s a conflict and insert unresolved blocks beginning with <code class="highlighter-rouge">&lt;&lt;&lt;&lt;&lt;</code> into the code. You must return to the project editor, search for these, resolve the conflicts, and then do:</p> <div class="highlighter-rouge"> <pre class="highlight"><code>git add .
git rebase --continue
</code></pre> </div> <p>If the resolution resulted in no changes (e.g., because already merged), then you will continue with:</p> <div class="highlighter-rouge"> <pre class="highlight"><code>git add .
git rebase --skip
</code></pre> </div> <p>If things get hairy and you don’t know how to proceed, you can always abort and start over with:</p> <div class="highlighter-rouge"> <pre class="highlight"><code>git rebase --abort
</code></pre> </div> <p>Conflict resolution is a bit of art and a bit of science, but not too hard to get the hang of. When massive conflicts arise it may be better to skip <code class="highlighter-rouge">git rebase</code> and use <code class="highlighter-rouge">git diff</code> instead. But in ordinary situations with under ~20 conflicts, it shouldn’t be very hard to resolve them.</p> <p><strong>When resolving conflicts:</strong></p> <ul> <li>Usually you want some change from both sources. Consider all differences.</li> <li>Look carefully. Did a name change, punctuation get added?</li> <li>Confused? Reach beyond the current editor. Open the Github website to keep your original commits in view.</li> </ul> <p>Ultimately, the aim of rebase is to apply the equivalent changes to a newer codebase. So use all means at your disposal. If necessary, you can create a temporary branch, recreate your original changes anew, then update the PR to point at the new commits:</p> <div class="highlighter-rouge"> <pre class="highlight"><code>mfnew my_redo_branch            ;# Create a new clean branch.
                                ;# Make changes, commit them, and then...
git checkout my_pr_branch       ;# Go back to the branch with a PR
git reset --hard my_redo_branch ;# Point the PR branch at the new work
git push -f                     ;# Now the PR contains shiny new commits
</code></pre> </div> <h2 id="core-scripts">Core Scripts</h2> <p>These powerful scripts come with some preliminary requirements:</p> <ul> <li>A GNU BASH shell environment with GNU utilies <code class="highlighter-rouge">sed</code>, <code class="highlighter-rouge">awk</code>, <code class="highlighter-rouge">gawk</code>, <code class="highlighter-rouge">sort</code>, and a few others.</li> <li>Basic understanding of Git branches, commits, some experience with <code class="highlighter-rouge">git merge</code> and <code class="highlighter-rouge">git rebase</code>.</li> <li>Experience with making a Pull Request.</li> <li>A Github account and a fork of Marlin in your Github account.</li> <li>A checked-out working copy of your Marlin fork. (Get Github Desktop. Use “Open in Desktop” from your fork’s page.)</li> </ul> <p>(It may also be possible to adapt these scripts for the Github Desktop shell environment in Windows.)</p> <p>Only run these commands from within your Marlin working copy. That is, you first need to run <code class="highlighter-rouge">cd /home/work/Marlin</code> (for example). If you don’t know what any of this is about, start by reading about BASH online, specifically about the “working directory.” Just don’t <code class="highlighter-rouge">cd</code> out of the working directory and all will be well.</p> <p>WARNING: While short, these scripts can be dangerous and don’t always fail cleanly. Read them to understand how they work and use them with utmost caution. Remember, you can use <code class="highlighter-rouge">git reflog</code> to recover from almost any disaster, so have fun.</p> <hr> <h3 id="ghtp"><code class="highlighter-rouge">ghtp</code></h3> <p><strong>Usage:</strong> <code class="highlighter-rouge">ghtp -[s|h] [remote-list]</code></p> <p>Use this script to set the “GitHub Transport Protocol” for your remotes to either SSH or HTTP. This determines how Git (and Github Desktop) will connect to Github. You can set all remotes or specify just those you want to change. You should always use SSH with a public-key, unless behind a firewall.</p> <hr> <h3 id="mfinit"><code class="highlighter-rouge">mfinit</code></h3> <p><strong><em>Run this script before any others</em></strong> to prepare your working copy of Marlin to use these helper scripts. All <code class="highlighter-rouge">mfinit</code> does is create a remote named <code class="highlighter-rouge">upstream</code> as an alias to <code class="highlighter-rouge">MarlinFirmware</code>. This is a common and convenient shorthand, and is used within the other scripts.</p> <hr> <h3 id="mfinfo"><code class="highlighter-rouge">mfinfo</code></h3> <p>Run this script to get a line of information about your current working copy, branch, and upstream. When working on Marlin the output will look something like this:</p> <table> <tbody> <tr> <td><strong>Project</strong></td> <td><strong>Your Account</strong></td> <td><strong>Repository</strong></td> <td><strong>Dev Branch</strong></td> <td><strong>Working Branch</strong></td> </tr> <tr> <td><code class="highlighter-rouge">MarlinFirmware</code></td> <td><code class="highlighter-rouge">joehitgub</code></td> <td><code class="highlighter-rouge">Marlin</code></td> <td><code class="highlighter-rouge">bugfix-1.1.x</code></td> <td><code class="highlighter-rouge">fix_something_june_1</code></td> </tr> </tbody> </table> <p>When working with this website’s repository, the output will will read:</p> <table> <tbody> <tr> <td><strong>Project</strong></td> <td><strong>Your Account</strong></td> <td><strong>Repository</strong></td> <td><strong>Dev Branch</strong></td> <td><strong>Working Branch</strong></td> </tr> <tr> <td><code class="highlighter-rouge">MarlinFirmware</code></td> <td><code class="highlighter-rouge">joehitgub</code></td> <td><code class="highlighter-rouge">MarlinDocumentation</code></td> <td><code class="highlighter-rouge">master</code></td> <td><code class="highlighter-rouge">master</code></td> </tr> </tbody> </table> <p>The other <code class="highlighter-rouge">mf*</code> scripts use <code class="highlighter-rouge">mfinfo</code> so they know what repository, fork, and so on are currently in use. If you write any custom scripts, you can also use <code class="highlighter-rouge">mfinfo</code>.</p> <hr> <h3 id="firstpush"><code class="highlighter-rouge">firstpush</code></h3> <ul> <li>Push the current branch to your fork on Github (<code class="highlighter-rouge">origin</code>) for the first time.</li> <li>Set the current branch’s upstream to <code class="highlighter-rouge">origin</code>.</li> <li>Open the current branch’s commit log in the browser.</li> </ul> <p>Use <code class="highlighter-rouge">firstpush</code> after <code class="highlighter-rouge">mfnew</code> or whenever you want establish the current branch in your fork. The <code class="highlighter-rouge">mfpr</code> script will run <code class="highlighter-rouge">firstpush</code> if needed. This script doesn’t do anything extra if the branch already exists in your fork.</p> <hr> <h3 id="mfnew"><code class="highlighter-rouge">mfnew</code></h3> <p><strong>Usage:</strong> <code class="highlighter-rouge">mfnew [new_branch_name]</code></p> <ul> <li>Fetch <code class="highlighter-rouge">upstream</code> to make sure you have the latest code.</li> <li>Create a new branch with the given name as a copy of the Dev Branch.</li> <li>If the name is</li> </ul> <p>Note that the new branch is not sync’ed to your fork. Run <code class="highlighter-rouge">firstpush</code> if you want to create the remote copy.</p> <p>Use this command when you want to make a patch or feature starting from the latest Dev Branch.</p> <hr> <h3 id="mfpr"><code class="highlighter-rouge">mfpr</code></h3> <p>Open the <strong>Compare &amp; Pull Request</strong> page on Github for the current branch. Be sure to use <code class="highlighter-rouge">git push</code> or <code class="highlighter-rouge">git push -f</code> to update the branch in your fork before submitting the Pull Request. You can always use <code class="highlighter-rouge">git push -f</code> afterward if you forget.</p> <hr> <h3 id="mfqp"><code class="highlighter-rouge">mfqp</code></h3> <p>Quick patch the current branch.</p> <ul> <li>Commit all uncommitted changes with the message “patch.”</li> <li>Run <code class="highlighter-rouge">mfrb</code> so you can apply the patch with <code class="highlighter-rouge">fixup</code> and make other changes.</li> <li>Run <code class="highlighter-rouge">git push -f</code> to update your fork.</li> </ul> <p>Use <code class="highlighter-rouge">mfqp</code> when you want to make a quick correction to an earlier commit and upload it immediately to <code class="highlighter-rouge">origin</code>. This will also update the open Pull Request, if there is one, and is intended to be used when patching up a Pull Request in preparation to get it merged and closed.</p> <hr> <h3 id="mfrb"><code class="highlighter-rouge">mfrb</code></h3> <p>Rebase the code on the latest Dev Branch and (optionally) rewrite commits.</p> <ul> <li>Fetch <code class="highlighter-rouge">upstream</code> to get the latest changes to the Dev Branch.</li> <li>Rebase the current branch on the Dev Branch. (Conflicts may arise here.)</li> <li>Do an <strong>interactive rebase</strong> to fixup, squash, drop, rewrite, etc.</li> </ul> <p>For the 1.1.x development tree that last step will run <code class="highlighter-rouge">git rebase -i upstream/bugfix-1.1.x</code>. After using <code class="highlighter-rouge">mfrb</code> to rewrite your commit log you must use <code class="highlighter-rouge">git push -f</code> to update your fork. The <code class="highlighter-rouge">-f</code> flag cannot be omitted.</p> <p>Use <code class="highlighter-rouge">mfrb</code> whenever an open Pull Request is reporting conflicts (thus preventing the PR from being merged), or anytime you want to refresh a branch or Pull Request. Ideally, all open Pull Request should be periodically rebased so that they can be evaluated in relation to the current codebase. This command makes rebasing much easier to do while requiring much less typing.</p> <p>Whenever possible, take the opportunity to reduce the number of commit using “squash” or “fixup” (preferred).</p> <div class="container-fluid"> <div class="row alert alert-warning custom-alert"> <div class="col-lg-1 col-md-2 visible-lg-block visible-md-block custom-alert-icon"> <i class="fa fa-exclamation-circle fa-4x" aria-hidden="true"></i> </div> <div class="col-lg-11 col-md-10 custom-alert-text"> <p>NOTE: <code class="highlighter-rouge">mfrb</code> may stop for conflict resolution. If this occurs, don’t panic. Carefully evaluate each instance where <code class="highlighter-rouge">&lt;&lt;&lt;&lt;&lt;</code> appears in the code and make sure to choose the resolution that fits the commit being applied (not necessarily the final code).</p> </div> </div> </div> <hr> <h3 id="mfup"><code class="highlighter-rouge">mfup</code></h3> <p>Quickly bring a branch up to date, locally and remote.</p> <ul> <li>Fetch <code class="highlighter-rouge">upstream</code> to get the latest changes to the Dev Branch</li> <li>Rebase the current branch on the Dev Branch. (Conflicts may arise here.)</li> <li>Run <code class="highlighter-rouge">git push -f</code> to update your fork.</li> </ul> <div class="container-fluid"> <div class="row alert alert-warning custom-alert"> <div class="col-lg-1 col-md-2 visible-lg-block visible-md-block custom-alert-icon"> <i class="fa fa-exclamation-circle fa-4x" aria-hidden="true"></i> </div> <div class="col-lg-11 col-md-10 custom-alert-text"> <p>NOTE: <code class="highlighter-rouge">mfup</code> may stop for conflict resolution. If this occurs, don’t panic. Carefully evaluate each instance where <code class="highlighter-rouge">&lt;&lt;&lt;&lt;&lt;</code> appears in the code and make sure to choose the resolution that fits the commit being applied (not necessarily the final code).</p> </div> </div> </div> <h2 id="utility-scripts">Utility Scripts</h2> <hr> <h3 id="mfadd"><code class="highlighter-rouge">mfadd</code></h3> <p>Add and fetch a remote.</p> <p><strong>Usage:</strong> <code class="highlighter-rouge">mfadd MagoKimbra</code></p> <p>Use this command to get a branch from another Github user to work on. After making changes and committing them to a copy of another user’s branch, you can submit a PR to the original branch on their fork. If their branch has an open PR, then your PR’s changes become included in their PR when merged.</p> <hr> <h3 id="mfclean"><code class="highlighter-rouge">mfclean</code></h3> <p>Check to see if branches can be deleted. Remove merged branches and any branches that have been deleted from your fork. Use with care. May not be suitable for all working styles.</p> <h2 id="documentation-scripts">Documentation Scripts</h2> <p>Documentation can be worked on with PRs, but these scripts assume a more direct approach for privileged users. You can still check out the documentation, make changes, and submit PRs. The <code class="highlighter-rouge">mfpr</code>, <code class="highlighter-rouge">mfnew</code>, <code class="highlighter-rouge">mfqp</code>, and <code class="highlighter-rouge">mfup</code> scripts are all compatible with the <code class="highlighter-rouge">MarlinDocumentation</code> repository as well.</p> <hr> <h3 id="mfdoc"><code class="highlighter-rouge">mfdoc</code></h3> <p>Use Jekyll to compile the Marlin documentation website and display the local copy in the browser using the small integrated webserver. This command only runs in the <code class="highlighter-rouge">MarlinDocumentation</code> repository with the <code class="highlighter-rouge">master</code> branch checked out.</p> <hr> <h3 id="mfpub"><code class="highlighter-rouge">mfpub</code></h3> <p>Publish the current documentation website. This command only runs in the <code class="highlighter-rouge">MarlinDocumentation</code> repository with the <code class="highlighter-rouge">master</code> branch checked out. Only committed changes will be published. Uncommitted changes will be stashed and popped, so you can continue to work on them.</p> <ul> <li>Check out <code class="highlighter-rouge">master</code> and force-push changes to <code class="highlighter-rouge">origin</code> and <code class="highlighter-rouge">upstream</code>.</li> <li>Build the full Marlin documentation website to a temporary folder.</li> <li>Check out <code class="highlighter-rouge">gh-pages</code> and copy the built website into it.</li> <li>Add and commit changes, then push the <code class="highlighter-rouge">gh-pages</code> branch.</li> </ul> </div> </div> </div> </div> </div> <footer> <div class="container"> <div class="row"> <div class="col-lg-12"> <hr> </div> </div> <div class="row"> <div class="col-lg-8"> <p>Brought to you with <i class="fa fa-heart text-danger" aria-hidden="true"></i> lack of <i class="fa fa-bed" aria-hidden="true"></i> and lots of <i class="fa fa-coffee" aria-hidden="true"></i>. <br> The contents of this website are © 2018 under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a> License.</p> </div> <div class="col-lg-4"> <div class="pull-right"> <a href="#top" data-proofer-ignore> Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a> </div> </div> </div> </div> </footer> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76230130-1', {
          'cookieDomain': 'marlinfw.org',
          'siteSpeedSampleRate': 80
      });

      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script> </body> </html>