language: ruby
rvm:
  - 2.2.3

before_script:
  - gem install bundler
  - bundle install

script:
  - bundle exec jekyll build
  - bundle exec htmlproofer ./_site --url-ignore /marlinfw.org/ --only-4xx --allow-hash-href --check-favicon --check-html
  - bundle exec github-pages health-check

env:
  global:
    - NOKOGIRI_USE_SYSTEM_LIBRARIES=true # speeds up installation of html-proofer

sudo: false

cache: bundler
